!(function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)})([(function(e,t,i){var n=i(1),r=i(10),o=i(6),a=i(4),s=n.getMetaInfo(window);window.PWT=window.PWT||{},window.PWT.bidMap=window.PWT.bidMap||{},window.PWT.bidIdMap=window.PWT.bidIdMap||{},window.PWT.isIframe=window.PWT.isIframe||s.isInIframe,window.PWT.protocol=window.PWT.protocol||s.protocol,window.PWT.secure=window.PWT.secure||s.secure,window.PWT.pageURL=window.PWT.pageURL||s.pageURL,window.PWT.refURL=window.PWT.refURL||s.refURL,window.PWT.isSafeFrame=window.PWT.isSafeFrame||!1,window.PWT.safeFrameMessageListenerAdded=window.PWT.safeFrameMessageListenerAdded||!1,window.PWT.udpv=window.PWT.udpv||n.findQueryParamInURL(s.isIframe?s.refURL:s.pageURL,"pwtv"),n.findQueryParamInURL(s.isIframe?s.refURL:s.pageURL,"pwtc")&&n.enableDebugLog(),n.findQueryParamInURL(s.isIframe?s.refURL:s.pageURL,"pwtvc")&&n.enableVisualDebugLog(),window.PWT.displayCreative=function(e,t){n.log("In displayCreative for: "+t),o.displayCreative(e,t)},window.PWT.displayPMPCreative=function(e,t,i){n.log("In displayPMPCreative for: "+t);var r=n.getBididForPMP(t,i);r&&o.displayCreative(e,r)},window.PWT.sfDisplayCreative=function(e,t){n.log("In sfDisplayCreative for: "+t),this.isSafeFrame=!0,window.parent.postMessage(JSON.stringify({pwt_type:"1",pwt_bidID:t,pwt_origin:window.location.protocol+"//"+window.location.hostname}),"*")},window.PWT.sfDisplayPMPCreative=function(e,t,i){n.log("In sfDisplayPMPCreative for: "+t),this.isSafeFrame=!0,window.parent.postMessage(JSON.stringify({pwt_type:"1",pwt_bidID:n.getBididForPMP(t,i),pwt_origin:window.location.protocol+"//"+window.location.hostname}),"*")},window.PWT.initNativeTrackers=function(e,t){n.log("In startTrackers for: "+t),n.addEventListenerForClass(window,"click",a.COMMON.OW_CLICK_NATIVE,o.loadTrackers),o.executeTracker(t)},window.OWT={notifyCount:0,externalBidderStatuses:{}},window.OWT.registerExternalBidders=function(e){return window.OWT.notifyCount++,n.forEachOnArray(e,(function(e,t){n.log("registerExternalBidders: "+t),window.OWT.externalBidderStatuses[t]={id:window.OWT.notifyCount,status:!1}})),window.OWT.notifyCount},window.OWT.notifyExternalBiddingComplete=function(e){n.forEachOnObject(window.OWT.externalBidderStatuses,(function(t,i){i&&i.id===e&&(n.log("notify externalBidding complete: "+t),window.OWT.externalBidderStatuses[t]={id:i.id,status:!0})}))},r.init(window)}),(function(e,t,i){function n(e,t){return f.call(e)==="[object "+t+"]"}var r=i(2),o=i(4),a=i(5),s=i(6),d=!1;t.debugLogIsEnabled=d;var u=!1;t.visualDebugLogIsEnabled=u;var c="Array",l="String",p="Function",g="Number",f=Object.prototype.toString,h=this;t.isA=n,t.isFunction=function(e){return h.isA(e,p)},t.isString=function(e){return h.isA(e,l)},t.isArray=function(e){return h.isA(e,c)},t.isNumber=function(e){return h.isA(e,g)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isOwnProperty=function(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):!1},t.isUndefined=function(e){return"undefined"==typeof e},t.enableDebugLog=function(){h.debugLogIsEnabled=!0},t.isDebugLogEnabled=function(){return h.debugLogIsEnabled},t.enableVisualDebugLog=function(){h.debugLogIsEnabled=!0,h.visualDebugLogIsEnabled=!0};var S="[OpenWrap] : ",I="[OpenWrap] : [Error]";t.log=function(e){h.debugLogIsEnabled&&console&&this.isFunction(console.log)&&(this.isString(e)?console.log((new Date).getTime()+" : "+S+e):console.log(e))},t.error=function(e){console.log((new Date).getTime()+" : "+I,e)},t.getCurrentTimestampInMs=function(){var e=new window.Date;return e.getTime()},t.getCurrentTimestamp=function(){var e=new Date;return Math.round(e.getTime()/1e3)};var E=(function(){var e=0;return function(){return e++,e}})();t.utilGetIncrementalInteger=E,t.getUniqueIdentifierStr=function(){return E()+window.Math.random().toString(16).substr(2)},t.copyKeyValueObject=function(e,t){if(h.isObject(e)&&h.isObject(t)){var i=h;h.forEachOnObject(t,(function(n,r){if(t[n]=i.isArray(r)?r:[r],i.isOwnProperty(e,n)){if(!h.isArray(e[n])){var o=e[n];e[n]=[o]}e[n].push(r)}else e[n]=[r]}))}},t.getIncrementalInteger=(function(){var e=0;return function(){return e++,e}})(),t.generateUUID=function(){var e=(new window.Date).getTime(),t=window.decodeURIComponent(this.pageURL).toLowerCase().replace(/[^a-z,A-Z,0-9]/gi,""),i=t.length,n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx-zzzzz".replace(/[xyz]/g,(function(n){var r=(e+16*Math.random())%16|0;e=Math.floor(e/16);var o;switch(n){case"x":o=r;break;case"z":o=t[Math.floor(Math.random()*i)];break;default:o=3&r|8}return o.toString(16)}));return n};var w="g",m=new RegExp(o.MACROS.WIDTH,w),y=new RegExp(o.MACROS.HEIGHT,w),A=new RegExp(o.MACROS.AD_UNIT_ID,w),T=new RegExp(o.MACROS.AD_UNIT_INDEX,w),O=new RegExp(o.MACROS.INTEGER,w),v=new RegExp(o.MACROS.DIV,w);t.generateSlotNamesFromPattern=function(e,t){var i,n,r,o,a=[],s={};if(h.isObject(e)&&h.isFunction(e.getSizes)&&(n=e.getSizes(),r=n.length,r>0))for(o=0;r>o;o++)2==n[o].length&&n[o][0]&&n[o][1]&&(i=t,i=i.replace(A,e.getAdUnitID()).replace(m,n[o][0]).replace(y,n[o][1]).replace(T,e.getAdUnitIndex()).replace(O,h.getIncrementalInteger()).replace(v,e.getDivID()),h.isOwnProperty(s,i)||(s[i]="",a.push(i)));return a},t.checkMandatoryParams=function(e,t,i){var n=!1,r=!0;if(!e||!h.isObject(e)||h.isArray(e))return h.log(i+"provided object is invalid."),n;if(!h.isArray(t))return h.log(i+"provided keys must be in an array."),n;var o=t.length;if(0==o)return r;for(var a=0;o>a;a++)if(!h.isOwnProperty(e,t[a]))return h.log(i+": "+t[a]+", mandatory parameter not present."),n;return r},t.forEachGeneratedKey=function(e,t,i,n,r,d,u,c,l,p){var g,f,S,I,E,w=d.length;if(w>0&&u.length>3)for(E=u.indexOf(o.MACROS.WIDTH)>=0&&u.indexOf(o.MACROS.HEIGHT)>=0,g=0;w>g;g++){var m=d[g];for(S=h.generateSlotNamesFromPattern(m,u),I=S.length,f=0;I>f;f++){var y=S[f],A=null,T=!1,O=m.getSizes();if(null==c?T=!0:(A=c[y],A?h.checkMandatoryParams(A,r,e)?T=!0:h.log(e+": "+y+o.MESSAGES.M9):h.log(e+": "+y+o.MESSAGES.M8)),T){if(1==p){var v=a.createBid(e,y);v.setDefaultBidStatus(1).setReceivedTime(h.getCurrentTimestampInMs()),s.setBidFromBidder(m.getDivID(),v)}l(e,t,i,n,y,E,m,c?c[y]:null,O[f][0],O[f][1])}}}},t.resizeWindow=function(e,t,i,n){if(i&&t)try{var r=e.defaultView.frameElement,o=[];if(n){var a=document.getElementById(n),s=a.querySelector("div");o.push(s),o.push(s.querySelector("iframe")),r=a.querySelector("iframe")}o.push(r),o.forEach((function(e){e&&(e.width=""+t,e.height=""+i,e.style.width=""+t+"px",e.style.height=""+i+"px")}))}catch(d){h.log("Creative-Resize; Error in resizing creative")}},t.writeIframe=function(e,t,i,n,r){e.write('<iframe frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" scrolling="no" width="'+i+'" hspace="0" vspace="0" height="'+n+'"'+(r?' style="'+r+'"':"")+' src="'+t+'"></iframe>')},t.displayCreative=function(e,t){h.resizeWindow(e,t.width,t.height),t.adHtml?e.write(t.adHtml):t.adUrl?h.writeIframe(e,t.adUrl,t.width,t.height,""):(h.log("creative details are not found"),h.log(t))},t.getScreenWidth=function(e){var t=-1;return e.innerHeight?t=e.innerWidth:e.document&&e.document.documentElement&&e.document.documentElement.clientWidth?t=e.document.documentElement.clientWidth:e.document.body&&(t=e.document.body.clientWidth),t},t.getScreenHeight=function(e){var t=-1;return e.innerHeight?t=e.innerHeight:e.document&&e.document.documentElement&&e.document.documentElement.clientHeight?t=e.document.documentElement.clientHeight:e.document.body&&(t=e.document.body.clientHeight),t},t.forEachOnObject=function(e,t){if(h.isObject(e)&&h.isFunction(t))for(var i in e)h.isOwnProperty(e,i)&&t(i,e[i])},t.forEachOnArray=function(e,t){if(h.isArray(e)&&h.isFunction(t))for(var i=0,n=e.length;n>i;i++)t(i,e[i])},t.trim=function(e){return h.isString(e)?e.replace(/^\s+/g,"").replace(/\s+$/g,""):e},t.getTopFrameOfSameDomain=function(e){try{if(e.parent.document!=e.document)return h.getTopFrameOfSameDomain(e.parent)}catch(t){}return e},t.metaInfo={},t.getMetaInfo=function(e){var t,i={},n=512;i.pageURL="",i.refURL="",i.protocol="https://",i.secure=1,i.isInIframe=h.isIframe(e);try{t=h.getTopFrameOfSameDomain(e),i.refURL=(t.refurl||t.document.referrer||"").substr(0,n),i.pageURL=(t!==window.top&&""!=t.document.referrer?t.document.referrer:t.location.href).substr(0,n),i.protocol=(function(e){return"http:"===e.location.protocol?(i.secure=0,"http://"):(i.secure=1,"https://")})(t)}catch(r){}return h.metaInfo=i,i},t.isIframe=function(e){try{return e.self!==e.top}catch(t){return!1}},t.findInString=function(e,t){return e.indexOf(t)>=0},t.findQueryParamInURL=function(e,t){return h.isOwnProperty(h.parseQueryParams(e),t)},t.parseQueryParams=function(e){var t=h.createDocElement(window,"a");t.href=e;var i={};if(t.search){var n=t.search.replace("?","");n=n.split("&"),h.forEachOnArray(n,(function(e,t){var t=t.split("="),n=t[0]||"",r=t[1]||"";i[n]=r}))}return i},t.createDocElement=function(e,t){return e.document.createElement(t)},t.addHookOnFunction=function(e,t,i,n){var r=e;if(e=t?e.__proto__:e,h.isObject(e)&&h.isFunction(e[i])){var o=e[i];e[i]=n(r,o)}else h.log("in assignNewDefination: oldReference is not a function")},t.getBididForPMP=function(e,t){e=e.split(",");var i=e.length,n=t.length,r="",a="";if(0==i)return this.log("Error: Unable to find bidID as values array is empty."),void 0;for(var s=0;n>s;s++){for(var d=0;i>d;d++)if(e[d].indexOf(t[s])>=0){r=e[d];break}if(""!=r)break}""==r?(r=e[0],this.log("No PMP-Deal was found matching PriorityArray, So Selecting first PMP-Deal: "+r)):this.log("Selecting PMP-Deal: "+r);var u=r.split(o.COMMON.DEAL_KEY_VALUE_SEPARATOR);return 3==u.length&&(a=u[2]),a?a:(this.log("Error: bidID not found in PMP-Deal: "+r),void 0)},t.createInvisibleIframe=function(){var e=h.createDocElement(window,"iframe");return e.id=h.getUniqueIdentifierStr(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:self",e.style="display:none",e},t.addMessageEventListener=function(e,t){return"function"!=typeof t?(h.log("EventHandler should be a function"),!1):(e.addEventListener?e.addEventListener("message",t,!1):e.attachEvent("onmessage",t),!0)},t.safeFrameCommunicationProtocol=function(e){try{if(msgData=window.JSON.parse(e.data),!msgData.pwt_type)return;switch(window.parseInt(msgData.pwt_type)){case 1:if(window.PWT.isSafeFrame)return;var t=s.getBidById(msgData.pwt_bidID);if(t){var i=t.bid,n=i.getAdapterID(),r=t.slotid,o={pwt_type:2,pwt_bid:i};h.vLogInfo(r,{type:"disp",adapter:n}),s.executeMonetizationPixel(r,i),h.resizeWindow(window.document,i.width,i.height,r),e.source.postMessage(window.JSON.stringify(o),msgData.pwt_origin)}break;case 2:if(!window.PWT.isSafeFrame)return;if(msgData.pwt_bid){var i=msgData.pwt_bid;if(i.adHtml)try{var a=h.createInvisibleIframe(window.document);if(!a)throw{message:"Failed to create invisible frame.",name:""};if(a.setAttribute("width",i.width),a.setAttribute("height",i.height),a.style="",window.document.body.appendChild(a),!a.contentWindow)throw{message:"Unable to access frame window.",name:""};var d=a.contentWindow.document;if(!d)throw{message:"Unable to access frame window document.",name:""};var u='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;</script></head>';u+="<body>",u+="<script>var $sf = window.parent.$sf;</script>",u+="<script>setInterval(function(){try{var fr = window.document.defaultView.frameElement;fr.width = window.parent.document.defaultView.innerWidth;fr.height = window.parent.document.defaultView.innerHeight;}catch(e){}}, 200);</script>",u+=i.adHtml,u+="</body></html>",d.write(u),d.close()}catch(c){h.log("Error in rendering creative in safe frame."),h.log(c),h.log("Rendering synchronously."),h.displayCreative(window.document,msgData.pwt_bid)}else i.adUrl?h.writeIframe(window.document,i.adUrl,i.width,i.height,""):(h.log("creative details are not found"),h.log(i))}break;case 3:var t=s.getBidById(msgData.pwt_bidID);if(t){var i=t.bid,n=i.getAdapterID(),r=t.slotid;h.vLogInfo(r,{type:"disp",adapter:n}),msgData.pwt_action&&"imptrackers"==msgData.pwt_action&&s.executeMonetizationPixel(r,i),s.fireTracker(i,msgData.pwt_action)}}}catch(c){}},t.addMessageEventListenerForSafeFrame=function(e){h.addMessageEventListener(e,h.safeFrameCommunicationProtocol)},t.getElementLocation=function(e){var t,i=0,n=0;if(h.isFunction(e.getBoundingClientRect))t=e.getBoundingClientRect(),i=Math.floor(t.left),n=Math.floor(t.top);else for(;e;)i+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return{x:i,y:n}},t.createVLogInfoPanel=function(e,t){var i,n,r,o=window.document;if(h.visualDebugLogIsEnabled&&(i=o.getElementById(e),i&&t.length&&t[0][0]&&t[0][1]&&(r=e+"-pwtc-info",!h.isUndefined(o.getElementById(r))))){var a=h.getElementLocation(i);n=o.createElement("div"),n.id=r,n.style="position: absolute; /*top: "+a.y+"px;*/ left: "+a.x+"px; width: "+t[0][0]+"px; height: "+t[0][1]+"px; border: 1px solid rgb(255, 204, 52); padding-left: 11px; background: rgb(247, 248, 224) none repeat scroll 0% 0%; overflow: auto; z-index: 9999997; visibility: hidden;opacity:0.9;font-size:13px;font-family:monospace;";var s=o.createElement("img");s.src=h.metaInfo.protocol+"ads.pubmatic.com/AdServer/js/pwt/close.png",s.style="cursor:pointer; position: absolute; top: 2px; left: "+(a.x+t[0][0]-16-15)+"px; z-index: 9999998;",s.title="close",s.onclick=function(){n.style.display="none"},n.appendChild(s),n.appendChild(o.createElement("br"));for(var d="Slot: "+e+" | ",u=0;u<t.length;u++)d+=(0!=u?", ":"")+t[u][0]+"x"+t[u][1];n.appendChild(o.createTextNode(d)),n.appendChild(o.createElement("br")),i.parentNode.insertBefore(n,i)}},t.realignVLogInfoPanel=function(e){var t,i,n,r=window.document;if(h.visualDebugLogIsEnabled&&(t=r.getElementById(e),t&&(n=e+"-pwtc-info",i=r.getElementById(n)))){var o=h.getElementLocation(t);i.style.visibility="visible",i.style.left=o.x+"px",i.style.height=t.clientHeight+"px"}},t.vLogInfo=function(e,t){var i,n,r=window.document;if(h.visualDebugLogIsEnabled){var o=e+"-pwtc-info";if(i=r.getElementById(o)){switch(t.type){case"bid":var a=t.latency,s=t.bidDetails,d="";0>a&&(a=0),d=t.hasOwnProperty("adServerCurrency")&&void 0!==t.adServerCurrency?0==t.adServerCurrency?"USD":t.adServerCurrency:"USD",n="Bid: "+t.bidder+(t.s2s?"(s2s)":"")+": "+s.getNetEcpm()+"("+s.getGrossEcpm()+")"+d+" :"+a+"ms",s.getPostTimeoutStatus()&&(n+=": POST-TIMEOUT");break;case"win-bid":var s=t.bidDetails,d="";d=t.hasOwnProperty("adServerCurrency")&&void 0!==t.adServerCurrency?0==t.adServerCurrency?"USD":t.adServerCurrency:"USD",n="Winning Bid: "+s.getAdapterID()+": "+s.getNetEcpm()+d;break;case"win-bid-fail":n="There are no bids from PWT";break;case"hr":n="----------------------";break;case"disp":n="Displaying creative from "+t.adapter}i.appendChild(r.createTextNode(n)),i.appendChild(r.createElement("br"))}}},t.getExternalBidderStatus=function(e){var t=!0;return h.forEachOnArray(e,(function(e,i){t=window.OWT.externalBidderStatuses[i]?t&&window.OWT.externalBidderStatuses[i].status:t})),t},t.resetExternalBidderStatus=function(e){h.forEachOnArray(e,(function(e,t){h.log("resetExternalBidderStatus: "+t),window.OWT.externalBidderStatuses[t]=void 0}))},t.ajaxRequest=function(e,t,i,n){try{n=n||{};var r,o=4,a=!0,s=n.method||(i?"POST":"GET");if(window.XMLHttpRequest?(r=new window.XMLHttpRequest,h.isUndefined(r.responseType)&&(a=!1)):a=!1,!a)return h.log("Ajax is not supported"),void 0;r.onreadystatechange=function(){r.readyState===o&&t&&t(r.responseText,r)},r.open(s,e),n.withCredentials&&(r.withCredentials=!0),n.preflight&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type",n.contentType||"text/plain"),r.send("POST"===s&&i)}catch(d){h.log("Failed in Ajax"),h.log(d)}},t.getMediaTypeObject=function(e,t,i){var n={};if(e&&e.kgp&&e.klm){var r=e.kgp,a=e.klm,s=h.generateSlotNamesFromPattern(i,r)[0];if(h.isOwnProperty(a,s)){h.log("Native Config found for adSlot: "+i);var d=a[s];if(n["native"]=d.config,d[o.COMMON.NATIVE_ONLY])return n}else h.log("Native Config not found for adSlot: "+i)}else h.log("Native config not found or KGP/KLM missing in native config provided.");return n.banner={sizes:t},n},t.addEventListenerForClass=function(e,t,i,n){if("function"!=typeof n)return h.log("EventHandler should be a function"),!1;var r=h.findElementsByClass(e,i);e.addEventListener||(t="on"+t);for(var o=0;o<r.length;o++)r[o].addEventListener(t,n,!0);return!0},t.findElementsByClass=function(e,t){return e.document.getElementsByClassName(t)||[]},t.getBidFromEvent=function(e){return e&&e.target&&e.target.attributes&&e.target.attributes[o.COMMON.BID_ID]&&e.target.attributes[o.COMMON.BID_ID].value||""},t.getAdFormatFromBidAd=function(e){var t=void 0;if(e&&h.isString(e))try{var i=JSON.parse(e.replace(/\\/g,""));i&&i.native&&(t=o.FORMAT_VALUES.NATIVE)}catch(n){t=o.FORMAT_VALUES.BANNER}return t},t.handleHook=function(e,t){h.isFunction(window.PWT[e])?window.PWT[e].apply(window.PWT,t):h.log("Hook-name: "+e+", window.PWT."+e+" is not a function.")},t.getCurrencyToDisplay=function(){var e=r.getAdServerCurrency();if(0==e&&(e="USD"),r.getAdServerCurrency()&&window[o.COMMON.PREBID_NAMESPACE]&&h.isFunction(window[o.COMMON.PREBID_NAMESPACE].getConfig)){var t=window[o.COMMON.PREBID_NAMESPACE].getConfig();if(t&&t.currency&&t.currency.adServerCurrency)return t.currency.adServerCurrency}return e}}),(function(e,t,i){function n(){var e=o.COMMON.PARENT_ADAPTER_PREBID;if(!a.isOwnProperty(r.adapters,e)){var t={};t[o.CONFIG.REV_SHARE]="0.0",t[o.CONFIG.THROTTLE]="100",t[o.CONFIG.KEY_GENERATION_PATTERN]="_DIV_",t[o.CONFIG.KEY_LOOKUP_MAP]={},r.adapters[e]=t}}var r=i(3),o=i(4),a=i(1),s=null;s=this,t.getPublisherId=function(){return a.trim(r.pwt.pubid)||"0"},t.getMataDataPattern=function(){return a.isString(r[o.CONFIG.COMMON][o.CONFIG.META_DATA_PATTERN])?r[o.CONFIG.COMMON][o.CONFIG.META_DATA_PATTERN]:null},t.getSendAllBidsStatus=function(){return window.parseInt(r[o.CONFIG.COMMON][o.CONFIG.SEND_ALL_BIDS])||0},t.getTimeout=function(){return window.parseInt(r.pwt.t)||1e3},t.getDisableAjaxTimeout=function(){var e=r.pwt;return a.isOwnProperty(e,o.CONFIG.DISABLE_AJAX_TIMEOUT)?1==r.pwt.disableAjaxTimeout:!0},t.getAdapterRevShare=function(e){var t=r.adapters;return a.isOwnProperty(t[e],o.CONFIG.REV_SHARE)?1-window.parseFloat(t[e][o.CONFIG.REV_SHARE])/100:1},t.getAdapterThrottle=function(e){var t=r.adapters;return a.isOwnProperty(t[e],o.CONFIG.THROTTLE)?100-window.parseFloat(t[e][o.CONFIG.THROTTLE]):0},t.isServerSideAdapter=function(e){var t=r.adapters;return t[e]&&a.isOwnProperty(t[e],o.CONFIG.SERVER_SIDE_ENABLED)?1===window.parseInt(t[e][o.CONFIG.SERVER_SIDE_ENABLED]):!1},t.getAdapterMaskBidsStatus=function(e){var t=r.adapters,i={audienceNetwork:1};return a.isOwnProperty(i,e)?i[e]:a.isOwnProperty(t[e],o.CONFIG.MASK_BIDS)?window.parseInt(t[e][o.CONFIG.MASK_BIDS])||0:0},t.getBidPassThroughStatus=function(e){var t=r.adapters;return a.isOwnProperty(t[e],o.CONFIG.BID_PASS_THROUGH)?window.parseInt(t[e][o.CONFIG.BID_PASS_THROUGH]):0},t.getProfileID=function(){return a.trim(r.pwt[o.CONFIG.PROFILE_ID])||"0"},t.getProfileDisplayVersionID=function(){return a.trim(r.pwt[o.CONFIG.PROFILE_VERSION_ID])||"0"},t.getAnalyticsPixelURL=function(){return r.pwt[o.CONFIG.LOGGER_URL]||!1},t.getMonetizationPixelURL=function(){return r.pwt[o.CONFIG.TRACKER_URL]||!1},t.forEachAdapter=function(e){a.forEachOnObject(r.adapters,e)},t.getGdpr=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.GDPR_CONSENT]||o.CONFIG.DEFAULT_GDPR_CONSENT;return"1"===e},t.getCmpApi=function(){return r[o.CONFIG.COMMON][o.CONFIG.GDPR_CMPAPI]||o.CONFIG.DEFAULT_GDPR_CMPAPI},t.getGdprTimeout=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.GDPR_TIMEOUT];return e?window.parseInt(e):o.CONFIG.DEFAULT_GDPR_TIMEOUT},t.getAwc=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.GDPR_AWC]||o.CONFIG.DEFAULT_GDPR_AWC;return"1"===e},t.addPrebidAdapter=n,t.initConfig=function(){s.addPrebidAdapter();var e={};a.forEachOnObject(o.CONFIG,(function(t,i){e[i]=""})),a.forEachOnObject(r.adapters,(function(t,i){var n={};a.forEachOnObject(i,(function(t,i){a.isOwnProperty(e,t)||(n[t]=i)})),a.forEachOnObject(i[o.CONFIG.KEY_LOOKUP_MAP],(function(e,t){a.forEachOnObject(n,(function(e,i){t[e]=i}))}))}))},t.getNativeConfiguration=function(){return r[o.COMMON.NATIVE_MEDIA_TYPE_CONFIG]},t.getAdServerCurrency=function(){return r[o.CONFIG.COMMON][o.COMMON.AD_SERVER_CURRENCY]},t.isSingleImpressionSettingEnabled=function(){return parseInt(r[o.CONFIG.COMMON][o.COMMON.SINGLE_IMPRESSION]||o.CONFIG.DEFAULT_SINGLE_IMPRESSION)}}),(function(e,t){t.pwt={t:"3000",pid:"46",gcv:"11",pdvid:"4",pubid:"9999",dataURL:"t.test-domain.com/logger?",winURL:"t.test-domain.com/tracker?",adserver:"DFP",gdpr:"0",cmpApi:"iab",gdprTimeout:"10000",awc:"1",disableAjaxTimeout:!0,adServerCurrency:"INR",singleImpression:"1"},t.adapters={pubmatic:{rev_share:"0.0",throttle:"100",publisherId:"156209",kgp:"_DIV_@_W_x_H_:_AUI_"},audienceNetwork:{rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{placementId:"8801674"},"Div-2":{placementId:"8801685"}}},sekindoUM:{rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{spaceId:14071},"Div-2":{spaceId:14071}}},appnexus:{rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{placementId:"8801674"},"Div-2":{placementId:"8801685"}}},pulsepoint:{cp:"521732",rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{ct:"76835"},"Div-2":{ct:"147007"}}}},t.nativeConfig={kgp:"_DIV_",klm:{DIV1:{nativeOnly:!0,config:{image:{required:!0,sizes:[150,50]},title:{required:!0,len:80},sponsoredBy:{required:!0},body:{required:!0}}},DIV2:{nativeOnly:!0,config:{image:{required:!0,sizes:[150,50]},title:{required:!0,len:80},sponsoredBy:{required:!0},body:{required:!0}}}}}}),(function(e,t){t.COMMON={BID_PRECISION:2,DEAL_KEY_FIRST_PART:"pwtdeal_",DEAL_KEY_VALUE_SEPARATOR:"_-_",PREBID_PREFIX:"PB_",CONFIG:"config",DIV_ID:"divID",PARAMS:"params",SIZES:"sizes",HEIGHT:"height",WIDTH:"width",SLOTS:"slots",KEY_GENERATION_PATTERN_VALUE:"kgpv",KEY_VALUE_PAIRS:"kvp",IMPRESSION_ID:"iid",PARENT_ADAPTER_PREBID:"prebid",ANALYTICS_CURRENCY:"USD",NATIVE_MEDIA_TYPE_CONFIG:"nativeConfig",NATIVE_ONLY:"nativeOnly",OW_CLICK_NATIVE:"openwrap-native-click",BID_ID:"owbidid",AD_SERVER_CURRENCY:"adServerCurrency",SINGLE_IMPRESSION:"singleImpression",PREBID_NAMESPACE:"owpbjs"},t.CONFIG={GLOBAL:"global",ADAPTERS:"adapters",COMMON:"pwt",TIMEOUT:"t",KEY_GENERATION_PATTERN:"kgp",KEY_LOOKUP_MAP:"klm",SERVER_SIDE_KEY:"sk",PUBLISHER_ID:"pubid",PROFILE_ID:"pid",PROFILE_VERSION_ID:"pdvid",LOGGER_URL:"dataURL",TRACKER_URL:"winURL",REV_SHARE:"rev_share",THROTTLE:"throttle",BID_PASS_THROUGH:"pt",GLOBAL_KEY_VALUE:"gkv",MASK_BIDS:"maksBids",META_DATA_PATTERN:"metaDataPattern",SEND_ALL_BIDS:"sendAllBids",SERVER_SIDE_ENABLED:"serverSideEnabled",GDPR_CONSENT:"gdpr",CONSENT_STRING:"cns",GDPR_CMPAPI:"cmpApi",GDPR_TIMEOUT:"gdprTimeout",GDPR_AWC:"awc",DEFAULT_GDPR_CMPAPI:"iab",DEFAULT_GDPR_TIMEOUT:1e4,DEFAULT_GDPR_AWC:"0",DEFAULT_SINGLE_IMPRESSION:"0",DEFAULT_GDPR_CONSENT:"0",DISABLE_AJAX_TIMEOUT:"disableAjaxTimeout"},t.METADATA_MACROS={WIDTH:"_W_",HEIGHT:"_H_",PARTNER:"_P_",GROSS_ECPM:"_GE_",NET_ECPM:"_NE_",BID_COUNT:"_BC_",PARTNER_COUNT:"_PC_"},t.MACROS={WIDTH:"_W_",HEIGHT:"_H_",AD_UNIT_ID:"_AU_",AD_UNIT_INDEX:"_AUI_",INTEGER:"_I_",DIV:"_DIV_"},t.SLOT_STATUS={CREATED:0,PARTNERS_CALLED:1,TARGETING_ADDED:2,DISPLAYED:3},t.WRAPPER_TARGETING_KEYS={BID_ID:"pwtsid",BID_STATUS:"pwtbst",BID_ECPM:"pwtecp",BID_DEAL_ID:"pwtdid",BID_ADAPTER_ID:"pwtpid",BID_SIZE:"pwtsz",PUBLISHER_ID:"pwtpubid",PROFILE_ID:"pwtprofid",PROFILE_VERSION_ID:"pwtverid",META_DATA:"pwtm",PLATFORM_KEY:"pwtplt"},t.IGNORE_PREBID_KEYS={hb_bidder:1,hb_adid:1,hb_pb:1,hb_size:1,hb_deal:1},t.LOGGER_PIXEL_PARAMS={TIMESTAMP:"tst",PAGE_URL:"purl",TIMEOUT:"to"},t.MESSAGES={M1:": In fetchbids.",M2:": Throttled.",M3:": adapter must implement the fetchBids() function.",M4:"BidManager: entry ",M5:": Callback.",M6:"bidAlreadExists : ",M7:": Exiting from fetchBids.",M8:". Config not found, ignored.",M9:". Config ignored.",M10:"Bid is rejected as ecpm is NULL.",M11:"Bid is rejected as ecpm is NaN: ",M12:"Existing bid ecpm: ",M13:", is lower than new bid ecpm ",M14:", so we are replacing bid.",M15:", is greater than new bid ecpm ",M16:", so we are not replacing bid.",M17:"Post timeout bid, ignored.",M18:"Bid is selected.",M19:": Found winning adapterID: ",M20:"Bid is rejected as ecpm is empty string.",M21:": error in respose handler.",M22:"Bid is rejected as ecpm is <= 0.",M23:"Existing bid is default-bid with zero ecpm, thus replacing it with the new bid from partner.",M24:"Passsed argument is not a bidAdaptor",M25:"Bid details not found for bidID: ",M26:"Currency Module is Activated. Ad Server Currency is: "},t.PLATFORM_VALUES={DISPLAY:"display",NATIVE:"native"},t.FORMAT_VALUES={BANNER:"banner",VIDEO:"video",NATIVE:"native",OTHER:"other"},t.HOOKS={PREBID_SET_CONFIG:"HookForPrebidSetConfig",PREBID_REQUEST_BIDS:"HookForPrebidRequestBids",BID_RECEIVED:"HookForBidReceived",POST_AUCTION_KEY_VALUES:"HookForPostAuctionKeyValues"},t.SRA_ENABLED_BIDDERS={rubicon:1,improvedigital:2}}),(function(e,t,i){function n(e,t){this.adapterID=e,this.kgpv=t,this.bidID=a.getUniqueIdentifierStr(),this.grossEcpm=0,this.netEcpm=0,this.defaultBid=0,this.adHtml="",this.adUrl="",this.height=0,this.width=0,this.creativeID="",this.keyValuePairs={},this.isPostTimeout=!1,this.receivedTime=0,this.isServerSide=r.isServerSideAdapter(e)?1:0,this.dealID="",this.dealChannel="",this.isWinningBid=!1,this.status=0,this.serverSideResponseTime=0,this.mi=void 0,this.originalCpm=0,this.originalCurrency="",this.analyticsGrossCpm=0,this.analyticsNetCpm=0,this.native=void 0,this.adFormat=void 0}var r=i(2),o=i(4),a=i(1),s=function(e,t){return window.parseFloat((e*r.getAdapterRevShare(t)).toFixed(o.COMMON.BID_PRECISION))};n.prototype.setServerSideResponseTime=function(e){this.serverSideResponseTime=e},n.prototype.getServerSideResponseTime=function(){return this.serverSideResponseTime},n.prototype.getServerSideStatus=function(){return this.isServerSide},n.prototype.setServerSideStatus=function(e){this.isServerSide=e},n.prototype.getAdapterID=function(){return this.adapterID},n.prototype.getBidID=function(){return this.bidID},n.prototype.setGrossEcpm=function(e){return null===e?(a.log(o.MESSAGES.M10),a.log(this),this):a.isString(e)&&(e=e.replace(/\s/g,""),0===e.length)?(a.log(o.MESSAGES.M20),a.log(this),this):window.isNaN(e)?(a.log(o.MESSAGES.M11+e),a.log(this),this):(e=window.parseFloat(e.toFixed(o.COMMON.BID_PRECISION)),this.grossEcpm=e,this.netEcpm=s(this.grossEcpm,this.getAdapterID()),this)},n.prototype.getGrossEcpm=function(e){return r.getAdServerCurrency()&&this.analyticsGrossCpm&&e?this.analyticsGrossCpm:this.grossEcpm},n.prototype.getNetEcpm=function(e){return r.getAdServerCurrency()&&this.analyticsNetCpm&&e?this.analyticsNetCpm:this.netEcpm},n.prototype.setDefaultBidStatus=function(e){return this.defaultBid=e,this},n.prototype.getDefaultBidStatus=function(){return this.defaultBid},n.prototype.setAdHtml=function(e){return this.adHtml=e,this.setAdFormat(e),this},n.prototype.getAdHtml=function(){return this.adHtml},n.prototype.setAdUrl=function(e){return this.adUrl=e,this},n.prototype.getAdUrl=function(){return this.adUrl},n.prototype.setHeight=function(e){return this.height=e,this},n.prototype.getHeight=function(){return this.height},n.prototype.setWidth=function(e){return this.width=e,this},n.prototype.getWidth=function(){return this.width},n.prototype.getKGPV=function(){return this.kgpv},n.prototype.setKeyValuePair=function(e,t){return this.keyValuePairs[e.substr(0,20)]=t,this},n.prototype.getKeyValuePairs=function(){return this.keyValuePairs},n.prototype.setPostTimeoutStatus=function(){return this.isPostTimeout=!0,this},n.prototype.getPostTimeoutStatus=function(){return this.isPostTimeout},n.prototype.setReceivedTime=function(e){return this.receivedTime=e,this},n.prototype.getReceivedTime=function(){return this.receivedTime},n.prototype.setDealID=function(e){return e&&(this.dealID=e,this.dealChannel=this.dealChannel||"PMP",this.setKeyValuePair(o.COMMON.DEAL_KEY_FIRST_PART+this.adapterID,this.dealChannel+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.dealID+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.bidID)),this},n.prototype.getDealID=function(){return this.dealID},n.prototype.setDealChannel=function(e){return this.dealID&&e&&(this.dealChannel=e,this.setKeyValuePair(o.COMMON.DEAL_KEY_FIRST_PART+this.adapterID,this.dealChannel+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.dealID+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.bidID)),this},n.prototype.getDealChannel=function(){return this.dealChannel},n.prototype.setWinningBidStatus=function(){return this.isWinningBid=!0,this},n.prototype.getWinningBidStatus=function(){return this.isWinningBid},n.prototype.setStatus=function(e){return this.status=e,this},n.prototype.getStatus=function(){return this.status},n.prototype.setSendAllBidsKeys=function(){if(this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_ID+"_"+this.adapterID,this.bidID),this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_STATUS+"_"+this.adapterID,this.getNetEcpm()>0?1:0),this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_ECPM+"_"+this.adapterID,this.getNetEcpm().toFixed(o.COMMON.BID_PRECISION)),this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_SIZE+"_"+this.adapterID,this.width+"x"+this.height),this.native){var e=this.keyValuePairs,t=this;a.forEachOnObject(e,(function(e,i){e.indexOf("native")>=0&&t.setKeyValuePair(e+"_"+t.adapterID,i)}))}},n.prototype.setMi=function(e){return this.mi=e,this},n.prototype.getMi=function(){return this.mi},n.prototype.setOriginalCpm=function(e){return this.originalCpm=window.parseFloat(e.toFixed(o.COMMON.BID_PRECISION)),this},n.prototype.getOriginalCpm=function(){return this.originalCpm},n.prototype.setOriginalCurrency=function(e){return this.originalCurrency=e,this},n.prototype.getOriginalCurrency=function(){return this.originalCurrency},n.prototype.setAnalyticsCpm=function(e){return this.analyticsGrossCpm=window.parseFloat(e.toFixed(o.COMMON.BID_PRECISION)),this.analyticsNetCpm=s(this.analyticsGrossCpm,this.getAdapterID()),this},n.prototype.getAnalyticsCpm=function(){return this.analyticsGrossCpm},n.prototype.getNative=function(){return this.native},n.prototype.setNative=function(e){return this.native=e,this},n.prototype.getAdFormat=function(){return this.adFormat},n.prototype.setAdFormat=function(e){return this.adFormat=a.getAdFormatFromBidAd(e),this},e.exports.Bid=n,t.createBid=function(e,t){return new n(e,t)}}),(function(e,t,i){function n(e){g.isOwnProperty(window.PWT.bidMap,e)||(window.PWT.bidMap[e]=h.createBMEntry(e))}function r(e,t,i,n){window.PWT.bidMap[e].setNewBid(t,i),window.PWT.bidIdMap[i.getBidID()]={s:e,a:t},0===i.getDefaultBidStatus()&&"pubmaticServer"!==i.adapterID&&g.vLogInfo(e,{type:"bid",bidder:t+(0!==l.getBidPassThroughStatus(t)?"(Passthrough)":""),bidDetails:i,latency:n,s2s:l.isServerSideAdapter(t),adServerCurrency:g.getCurrencyToDisplay()})}function o(e,t,i){var n="",r=0,o=0,s=p.METADATA_MACROS,d="g";g.forEachOnObject(t.adapters,(function(t,i){""!=i.getLastBidID()&&("pubmaticServer"!==t&&o++,g.forEachOnObject(i.bids,(function(t,i){1!=i.getDefaultBidStatus()&&1!=i.getPostTimeoutStatus()&&0!=i.getGrossEcpm()&&(r++,n+=a(e,i))})))})),0==n.length&&(n=e),n=n.replace(new RegExp(s.BID_COUNT,d),r),n=n.replace(new RegExp(s.PARTNER_COUNT,d),o),i[p.WRAPPER_TARGETING_KEYS.META_DATA]=encodeURIComponent(n)}function a(e,t){var i=p.METADATA_MACROS,n="g";return e.replace(new RegExp(i.PARTNER,n),t.getAdapterID()).replace(new RegExp(i.WIDTH,n),t.getWidth()).replace(new RegExp(i.HEIGHT,n),t.getHeight()).replace(new RegExp(i.GROSS_ECPM,n),t.getGrossEcpm()).replace(new RegExp(i.NET_ECPM,n),t.getNetEcpm())}function s(e){var t=null,i={};return g.forEachOnObject(e.adapters,(function(e,n){var r=S.auctionBidsCallBack(e,n,i,t);t=r.winningBid,i=r.keyValuePairs})),null!==l.getMataDataPattern()&&o(l.getMataDataPattern(),e,i),{wb:t,kvp:i}
}function d(e){for(var t in e)t.indexOf("native")>=0&&3===t.split("_").length&&delete e[t]}function u(e,t,i,n){var r=this;return""!=t.getLastBidID()?(g.forEachOnObject(t.bids,(function(t,o){if(o.getPostTimeoutStatus()===!0)return{winningBid:n,keyValuePairs:i};if(1!==o.getDefaultBidStatus()&&1==l.getSendAllBidsStatus()&&o.setSendAllBidsKeys(),null!==n)if(n.getNetEcpm()<o.getNetEcpm())r.updateNativeTargtingKeys(i);else{var a=o.getKeyValuePairs();r.updateNativeTargtingKeys(a),o.keyValuePairs=a}return g.copyKeyValueObject(i,o.getKeyValuePairs()),0!==l.getBidPassThroughStatus(e)?{winningBid:n,keyValuePairs:i}:(null==n?n=o:n.getNetEcpm()<o.getNetEcpm()&&(n=o),void 0)})),{winningBid:n,keyValuePairs:i}):{winningBid:n,keyValuePairs:i}}function c(e,t,i){var n=t.getCreationTime()||0,r=void 0,o=t.getImpressionID();const a=!0;if(t.getAnalyticEnabledStatus()&&!t.getExpiredStatus()){var s={sn:e,sz:t.getSizes(),ps:[]};t.setExpired(),i[o]=i[o]||[],g.forEachOnObject(t.adapters,(function(e,t){1!=l.getBidPassThroughStatus(e)&&g.forEachOnObject(t.bids,(function(t,i){var d=i.getReceivedTime();return"pubmaticServer"===e?(g.isOwnProperty(window.PWT.owLatency,o)&&g.isOwnProperty(window.PWT.owLatency[o],"startTime")&&g.isOwnProperty(window.PWT.owLatency[o],"endTime")?r=window.PWT.owLatency[o].endTime-window.PWT.owLatency[o].startTime:(r=0,g.log("Logging pubmaticServer latency as 0 for impressionID: "+o)),g.log("PSL logging: time logged for id "+o+" is "+r),void 0):((1!=l.getAdapterMaskBidsStatus(e)||i.getWinningBidStatus()!==!1)&&(i.getServerSideStatus()&&-1===i.getDefaultBidStatus()&&-1===i.getServerSideResponseTime()||"pubmatic"===e&&(i.getDefaultBidStatus()||i.getPostTimeoutStatus()&&0==i.getGrossEcpm(a))||s.ps.push({pn:e,bidid:t,db:i.getDefaultBidStatus(),kgpv:i.getKGPV(),psz:i.getWidth()+"x"+i.getHeight(),eg:i.getGrossEcpm(a),en:i.getNetEcpm(a),di:i.getDealID(),dc:i.getDealChannel(),l1:i.getServerSideStatus()?i.getServerSideResponseTime():d-n,l2:0,ss:i.getServerSideStatus(),t:i.getPostTimeoutStatus()===!1?0:1,wb:i.getWinningBidStatus()===!0?1:0,mi:i.getServerSideStatus()?i.getMi():void 0,af:i.getAdFormat(),ocpm:l.getAdServerCurrency()?i.getOriginalCpm():i.getGrossEcpm(),ocry:l.getAdServerCurrency()?i.getOriginalCurrency():p.COMMON.ANALYTICS_CURRENCY})),void 0)}))})),i[o].push(s),void 0!==r&&(i[o].psl=r)}}var l=i(2),p=i(4),g=i(1),f=i(7),h=i(8),S=this;t.createBidEntry=n,t.setSizes=function(e,t){S.createBidEntry(e),window.PWT.bidMap[e].setSizes(t)},t.setCallInitTime=function(e,t){S.createBidEntry(e),window.PWT.bidMap[e].setAdapterEntry(t)},t.setBidFromBidder=function(e,t){var i=t.getAdapterID(),n=(t.getBidID(),window.PWT.bidMap[e]);if(!g.isOwnProperty(window.PWT.bidMap,e))return g.log("BidManager is not expecting bid for "+e+", from "+i),void 0;var r=n.getCreationTime()+l.getTimeout()<t.getReceivedTime()?!0:!1,o=t.getReceivedTime()-n.getCreationTime();S.createBidEntry(e),g.log("BdManagerSetBid: divID: "+e+", bidderID: "+i+", ecpm: "+t.getGrossEcpm()+", size: "+t.getWidth()+"x"+t.getHeight()+", postTimeout: "+r+", defaultBid: "+t.getDefaultBidStatus()),r===!0&&t.setPostTimeoutStatus();var a=n.getLastBidIDForAdapter(i);if(""!=a){var s=n.getBid(i,a),d=1===s.getDefaultBidStatus();d||!r?(d&&g.log(p.MESSAGES.M23),d||s.getNetEcpm()<t.getNetEcpm()?(g.log(p.MESSAGES.M12+s.getNetEcpm()+p.MESSAGES.M13+t.getNetEcpm()+p.MESSAGES.M14),S.storeBidInBidMap(e,i,t,o)):g.log(p.MESSAGES.M12+s.getNetEcpm()+p.MESSAGES.M15+t.getNetEcpm()+p.MESSAGES.M16)):g.log(p.MESSAGES.M17)}else g.log(p.MESSAGES.M18),S.storeBidInBidMap(e,i,t,o);r&&setTimeout(window.owpbjs.triggerUserSyncs,10)},t.storeBidInBidMap=r,t.resetBid=function(e,t){g.vLogInfo(e,{type:"hr"}),delete window.PWT.bidMap[e],S.createBidEntry(e),window.PWT.bidMap[e].setImpressionID(t)},t.createMetaDataKey=o,t.replaceMetaDataMacros=a,t.auctionBids=s,t.updateNativeTargtingKeys=d,t.auctionBidsCallBack=u,t.getBid=function(e){var t=null,i=null;if(g.isOwnProperty(window.PWT.bidMap,e)){var n=S.auctionBids(window.PWT.bidMap[e]);t=n.wb,i=n.kvp,window.PWT.bidMap[e].setAnalyticEnabled(),t&&t.getNetEcpm()>0?(t.setStatus(1),t.setWinningBidStatus(),g.vLogInfo(e,{type:"win-bid",bidDetails:t,adServerCurrency:g.getCurrencyToDisplay()})):g.vLogInfo(e,{type:"win-bid-fail"})}return{wb:t,kvp:i}},t.getBidById=function(e){if(!g.isOwnProperty(window.PWT.bidIdMap,e))return g.log(p.MESSAGES.M25+e),null;var t=window.PWT.bidIdMap[e].s,i=window.PWT.bidIdMap[e].a;if(g.isOwnProperty(window.PWT.bidMap,t)){g.log("BidID: "+e+", DivID: "+t+p.MESSAGES.M19+i);var n=window.PWT.bidMap[t].getBid(i,e);return null==n?null:{bid:n,slotid:t}}return g.log(p.MESSAGES.M25+e),null},t.displayCreative=function(e,t){var i=S.getBidById(t);if(i){var n=i.bid,r=i.slotid;g.displayCreative(e,n),g.vLogInfo(r,{type:"disp",adapter:n.getAdapterID()}),S.executeMonetizationPixel(r,n)}},t.executeAnalyticsPixel=function(){var e={s:[]},t=l.getPublisherId(),i=f.getUserConsentDataFromLS(),n="",r=l.getAnalyticsPixelURL(),o={};r&&(r=g.metaInfo.protocol+r+"pubid="+t,e[p.CONFIG.PUBLISHER_ID]=l.getPublisherId(),e[p.LOGGER_PIXEL_PARAMS.TIMEOUT]=""+l.getTimeout(),e[p.LOGGER_PIXEL_PARAMS.PAGE_URL]=window.decodeURIComponent(g.metaInfo.pageURL),e[p.LOGGER_PIXEL_PARAMS.TIMESTAMP]=g.getCurrentTimestamp(),e[p.CONFIG.PROFILE_ID]=l.getProfileID(),e[p.CONFIG.PROFILE_VERSION_ID]=l.getProfileDisplayVersionID(),l.getGdpr()&&(n=i&&i.c?encodeURIComponent(i.c):"",e[p.CONFIG.GDPR_CONSENT]=i&&i.g,e[p.CONFIG.CONSENT_STRING]=n,r+="&gdEn="+(l.getGdpr()?1:0)),g.forEachOnObject(window.PWT.bidMap,(function(e,t){S.analyticalPixelCallback(e,t,o)})),g.forEachOnObject(o,(function(t,i){i.length>0&&(e.s=i,e[p.COMMON.IMPRESSION_ID]=window.encodeURIComponent(t),e.psl=i.psl,g.ajaxRequest(r,(function(){}),"json="+window.encodeURIComponent(JSON.stringify(e)),{contentType:"application/x-www-form-urlencoded",withCredentials:!0}))})))},t.executeMonetizationPixel=function(e,t){var i=l.getMonetizationPixelURL(),n=l.getPublisherId();const r=!0;i&&(i+="pubid="+n,i+="&purl="+window.encodeURIComponent(g.metaInfo.pageURL),i+="&tst="+g.getCurrentTimestamp(),i+="&iid="+window.encodeURIComponent(window.PWT.bidMap[e].getImpressionID()),i+="&bidid="+window.encodeURIComponent(t.getBidID()),i+="&pid="+window.encodeURIComponent(l.getProfileID()),i+="&pdvid="+window.encodeURIComponent(l.getProfileDisplayVersionID()),i+="&slot="+window.encodeURIComponent(e),i+="&pn="+window.encodeURIComponent(t.getAdapterID()),i+="&en="+window.encodeURIComponent(t.getNetEcpm(r)),i+="&eg="+window.encodeURIComponent(t.getGrossEcpm(r)),i+="&kgpv="+window.encodeURIComponent(t.getKGPV()),S.setImageSrcToPixelURL(i))},t.analyticalPixelCallback=c,t.setImageSrcToPixelURL=function(e,t){var i=new window.Image;return void 0==t||t?(i.src=g.metaInfo.protocol+e,void 0):(i.src=e,void 0)},t.getAllPartnersBidStatuses=function(e,t){var i=!0;return g.forEachOnArray(t,(function(t,n){e[n]&&g.forEachOnObject(e[n].adapters,(function(e,t){g.forEachOnObject(t.bids,(function(e,t){i=i&&0===t.getDefaultBidStatus()}))}))})),i},t.loadTrackers=function(e){var t=g.getBidFromEvent(e);window.parent.postMessage(JSON.stringify({pwt_type:"3",pwt_bidID:t,pwt_origin:window.location.protocol+"//"+window.location.hostname,pwt_action:"click"}),"*")},t.executeTracker=function(e){window.parent.postMessage(JSON.stringify({pwt_type:"3",pwt_bidID:e,pwt_origin:window.location.protocol+"//"+window.location.hostname,pwt_action:"imptrackers"}),"*")},t.fireTracker=function(e,t){var i;if("click"===t)i=e["native"]&&e["native"].clickTrackers;else if("imptrackers"===t&&(i=e["native"]&&e["native"].impressionTrackers,e["native"]&&e["native"].javascriptTrackers)){var n=g.createInvisibleIframe();if(!n)throw{message:"Failed to create invisible frame for native javascript trackers"};if(!n.contentWindow)throw{message:"Unable to access frame window for native javascript trackers"};window.document.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.write(e["native"].javascriptTrackers),n.contentWindow.document.close()}(i||[]).forEach((function(e){S.setImageSrcToPixelURL(e,!1)}))},t.setStandardKeys=function(e,t){if(e){t[p.WRAPPER_TARGETING_KEYS.BID_ID]=e.getBidID(),t[p.WRAPPER_TARGETING_KEYS.BID_STATUS]=e.getStatus(),t[p.WRAPPER_TARGETING_KEYS.BID_ECPM]=e.getNetEcpm().toFixed(p.COMMON.BID_PRECISION);var i=e.getDealID();i&&(t[p.WRAPPER_TARGETING_KEYS.BID_DEAL_ID]=i),t[p.WRAPPER_TARGETING_KEYS.BID_ADAPTER_ID]=e.getAdapterID(),t[p.WRAPPER_TARGETING_KEYS.PUBLISHER_ID]=l.getPublisherId(),t[p.WRAPPER_TARGETING_KEYS.PROFILE_ID]=l.getProfileID(),t[p.WRAPPER_TARGETING_KEYS.PROFILE_VERSION_ID]=l.getProfileDisplayVersionID(),t[p.WRAPPER_TARGETING_KEYS.BID_SIZE]=e.width+"x"+e.height,t[p.WRAPPER_TARGETING_KEYS.PLATFORM_KEY]=e.getNative()?p.PLATFORM_VALUES.NATIVE:p.PLATFORM_VALUES.DISPLAY}else g.log("Not generating key-value pairs as invalid winningBid object passed. WinningBid: "),g.log(e)}}),(function(e,t){function i(e,t){return toString.call(e)==="[object "+t+"]"}var n="OpenWrap",r=909090,o=function(e){return i(e,"Function")},a=(function(){try{return window.localStorage&&o(window.localStorage.getItem)&&o(window.localStorage.setItem)}catch(e){return!1}})(),s=function(e,t,i,r){var o;if(a){try{o=window.localStorage.getItem(n)}catch(s){}if(o&&"string"==typeof o)try{o=JSON.parse(o)}catch(s){o={}}else o={};o&&(o.hasOwnProperty(e)||(o[e]={}),o[e].t=(new Date).getTime(),o[e][t]=i,"c"==t&&(o[e].g=r?1:0));try{window.localStorage.setItem(n,JSON.stringify(o))}catch(s){}}};t.setConsentDataInLS=s,t.isCmpFound=function(){return!!window.__cmp},t.getUserConsentDataFromCMP=function(){function e(e){if(e&&e.data&&e.data.__cmp&&e.data.__cmp.result){var t=e.data.__cmp.result;t&&t.consentData?s(i,"c",t.consentData,t.gdprApplies):"string"==typeof t&&s(i,"c",t)}}function t(){window.__cmp("getConsentData","vendorConsents",(function(e){e&&e.consentData?s(i,"c",e.consentData,e.gdprApplies):"string"==typeof e&&s(i,"c",e)}))}var i=r,n=0,o={__cmp:{callId:"iframe:"+ ++n,command:"getConsentData"}};window.__cmp?"function"==typeof window.__cmp?t():setTimeout((function(){"function"==typeof window.__cmp&&t()}),500):(window.top.postMessage(o,"*"),window.addEventListener("message",e))},t.getUserConsentDataFromLS=function(){var e=r,t={c:"",g:0};if(!a)return t;var i;try{i=window.localStorage.getItem(n)}catch(o){}if(i&&"string"==typeof i){try{i=JSON.parse(i)}catch(o){i={}}if(i.hasOwnProperty(e)){var s=i[e];s&&s.c&&s.t&&s.t&&parseInt(s.t,10)>(new Date).getTime()-864e5&&(t.c=s.c,t.g=s.g)}}return t}}),(function(e,t,i){function n(e){this.name=e,this.sizes=[],this.adapters={},this.creationTime=o.getCurrentTimestampInMs(),this.impressionID="",this.analyticsEnabled=!1,this.expired=!1}var r=i(4),o=i(1),a=i(9).AdapterEntry;n.prototype.setExpired=function(){return this.expired=!0,this},n.prototype.getExpiredStatus=function(){return this.expired},n.prototype.setAnalyticEnabled=function(){return this.analyticsEnabled=!0,this},n.prototype.getAnalyticEnabledStatus=function(){return this.analyticsEnabled},n.prototype.setNewBid=function(e,t){o.isOwnProperty(this.adapters,e)||(this.adapters[e]=new a(e)),this.adapters[e].setNewBid(t)},n.prototype.getBid=function(e,t){return o.isOwnProperty(this.adapters,e)?this.adapters[e].getBid(t):void 0},n.prototype.getName=function(){return this.name},n.prototype.getCreationTime=function(){return this.creationTime},n.prototype.setImpressionID=function(e){return this.impressionID=e,this},n.prototype.getImpressionID=function(){return this.impressionID},n.prototype.setSizes=function(e){return this.sizes=e,this},n.prototype.getSizes=function(){return this.sizes},n.prototype.setAdapterEntry=function(e){return o.isOwnProperty(this.adapters,e)||(this.adapters[e]=new a(e),o.log(r.MESSAGES.M4+this.name+" "+e+" "+this.adapters[e].getCallInitiatedTime())),this},n.prototype.getLastBidIDForAdapter=function(e){return o.isOwnProperty(this.adapters,e)?this.adapters[e].getLastBidID():""},e.exports.BMEntry=n,t.createBMEntry=function(e){return new n(e)}}),(function(e,t,i){function n(e){this.adapterID=e,this.callInitiatedTime=r.getCurrentTimestampInMs(),this.bids={},this.lastBidID=""}var r=i(1);n.prototype.getCallInitiatedTime=function(){return this.callInitiatedTime},n.prototype.getLastBidID=function(){return this.lastBidID},n.prototype.getBid=function(e){return r.isOwnProperty(this.bids,e)?this.bids[e]:null},n.prototype.setNewBid=function(e){delete this.bids[this.lastBidID];var t=e.getBidID();this.bids[t]=e,this.lastBidID=t},e.exports.AdapterEntry=n}),(function(e,t,i){function n(e){K.isObject(e)&&(it=e)}function r(){return it}function o(e){var t=0;try{var i=e.getSlotId().getId().split("_");t=parseInt(i[i.length-1])}catch(n){}return t}function a(e,t){var i=[];return K.isFunction(t.getSizes)&&K.forEachOnArray(t.getSizes(window.innerWidth,window.innerHeight),(function(t,n){K.isFunction(n.getWidth)&&K.isFunction(n.getHeight)?i.push([n.getWidth(),n.getHeight()]):(K.log(e+", size object does not have getWidth and getHeight method. Ignoring: "),K.log(n))})),i}function s(e,t){K.isObject(e)&&K.isFunction(e.getDivID)&&K.isArray(t)&&t[0]&&t[0]==e.getDivID()&&(e.setDisplayFunctionCalled(!0),e.setArguments(t))}function d(e,t,i){if(K.isOwnProperty(nt.slotsMap,e))i||nt.slotsMap[e].setSizes(nt.getAdSlotSizesArray(e,t));else{var n=J.createSlot(e);n.setDivID(e),n.setPubAdServerObject(t),n.setAdUnitID(t.getAdUnitPath()),n.setAdUnitIndex(nt.getAdUnitIndex(t)),n.setSizes(nt.getAdSlotSizesArray(e,t)),n.setStatus(j.SLOT_STATUS.CREATED),Z&&K.isObject(JSON)&&K.isFunction(JSON.stringify)&&K.forEachOnArray(t.getTargetingKeys(),(function(e,i){n.setKeyValue(i,t.getTargeting(i))})),nt.slotsMap[e]=n,K.createVLogInfoPanel(e,n.getSizes(window.innerWidth,window.innerHeight))}}function u(e){if(K.isObject(e)&&K.isFunction(e.getSlotId)){var t=e.getSlotId();if(t&&K.isFunction(t.getDomId))return t.getDomId()}return""}function c(e,t,i){K.log("Generating slotsMap"),K.forEachOnArray(e,(function(e,n){var r=nt.generateSlotName(n);nt.storeInSlotsMap(r,n,i),i&&K.isOwnProperty(nt.slotsMap,r)&&nt.setDisplayFunctionCalledIfRequired(nt.slotsMap[r],t)})),K.log(nt.slotsMap)}function l(e){return K.isOwnProperty(nt.slotsMap,e)?nt.slotsMap[e].getStatus():j.SLOT_STATUS.DISPLAYED}function p(e,t){K.isOwnProperty(nt.slotsMap,e)&&nt.slotsMap[e].updateStatusAfterRendering(t)}function g(e){var t=[];return K.forEachOnObject(nt.slotsMap,(function(i,n){K.isOwnProperty(e,n.getStatus())&&t.push(i)})),t}function f(e){var t,i={};K.isOwnProperty(nt.slotsMap,e)&&(t=nt.slotsMap[e].getPubAdServerObject(),K.forEachOnArray(t.getTargetingKeys(),(function(e,n){i[n]=t.getTargeting(n)})),t.clearTargeting(),K.forEachOnObject(i,(function(e,i){K.isOwnProperty(nt.wrapperTargetingKeys,e)||t.setTargeting(e,i)})))}function h(e,t,i){K.forEachOnArray(e,(function(e,n){if(K.isOwnProperty(nt.slotsMap,n)){var r=nt.slotsMap[n];r.setStatus(j.SLOT_STATUS.PARTNERS_CALLED),i&&(nt.removeDMTargetingFromSlot(n),r.setRefreshFunctionCalled(!0),r.setArguments(t))}}))}function S(e){var t=[];return K.forEachOnArray(e,(function(e,i){t.push(nt.slotsMap[i])})),t}function I(e){var t={};return K.forEachOnObject(e,(function(e,i){t[i]=""})),t}function E(e){var t=z.getBid(e),i=t.wb||null,n=t.kvp||{},r=nt.slotsMap[e].getPubAdServerObject(),o=j.IGNORE_PREBID_KEYS;K.log("DIV: "+e+" winningBid: "),K.log(i),i&&i.getNetEcpm()>0&&(nt.slotsMap[e].setStatus(j.SLOT_STATUS.TARGETING_ADDED),z.setStandardKeys(i,n)),K.handleHook(j.HOOKS.POST_AUCTION_KEY_VALUES,[n,r]),K.forEachOnObject(n,(function(e,t){K.isOwnProperty(o,e)||(r.setTargeting(e,t),nt.defineWrapperTargetingKey(e))}))}function w(e){K.isObject(nt.wrapperTargetingKeys)||(nt.wrapperTargetingKeys={}),nt.wrapperTargetingKeys[e]=""}function m(e,t){return K.isObject(e)&&K.isFunction(t)?function(){return Q=!0,K.log("Disable Initial Load is called"),t.apply(e,arguments)}:(K.log("disableInitialLoad: originalFunction is not a function"),null)}function y(e,t){return K.isObject(e)&&K.isFunction(t)?function(){return K.log("enableSingleRequest is called"),t.apply(e,arguments)}:(K.log("disableInitialLoad: originalFunction is not a function"),null)}function A(e,t){return K.isObject(e)&&K.isFunction(t)?function(){var i=arguments,n=i[0]?i[0]:null;return null!=n&&(K.isOwnProperty(tt,n)||(tt[n]=[]),tt[n]=tt[n].concat(i[1])),t.apply(e,arguments)}:(K.log("setTargeting: originalFunction is not a function"),null)}function T(e,t){return K.isObject(e)&&K.isFunction(t)?function(){var i=arguments[0]||window.googletag.pubads().getSlots();return K.forEachOnArray(i,(function(e,t){delete et[nt.generateSlotName(t)]})),t.apply(e,arguments)}:(K.log("destroySlots: originalFunction is not a function"),null)}function O(e,t,i,n){K.log(e),K.log(n),nt.updateStatusAfterRendering(n[0],!1),i.apply(t,n)}function v(e,t){var i=t.getStatus();i!=j.SLOT_STATUS.DISPLAYED&&i!=j.SLOT_STATUS.TARGETING_ADDED&&nt.findWinningBidAndApplyTargeting(e)}function D(e,t,i){nt.getStatusOfSlotForDivId(i[0])!=j.SLOT_STATUS.DISPLAYED?nt.updateStatusAndCallOriginalFunction_Display("Calling original display function after timeout with arguments, ",e,t,i):K.log("AdSlot already rendered")}function P(e,t,i){K.getExternalBidderStatus(t)&&z.getAllPartnersBidStatuses(window.PWT.bidMap,t)?(K.resetExternalBidderStatus(t),i()):e>0&&window.setTimeout((function(){nt.executeDisplay(e-10,t,i)}),10)}function _(e,t,i,n){switch(e){case j.SLOT_STATUS.CREATED:case j.SLOT_STATUS.PARTNERS_CALLED:var r=Object.keys(nt.slotsMap);"object"==typeof window.OWT.externalBidderStatuses[n[0]]&&window.OWT.externalBidderStatuses[n[0]]&&nt.executeDisplay(V.getTimeout(),r,(function(){K.forEachOnObject(nt.slotsMap,(function(e,t){nt.findWinningBidIfRequired_Display(e,t)})),nt.processDisplayCalledSlot(t,i,n)})),setTimeout((function(){K.log("PostTimeout.. back in display function"),K.forEachOnObject(nt.slotsMap,(function(e,t){nt.findWinningBidIfRequired_Display(e,t)})),nt.processDisplayCalledSlot(t,i,n)}),V.getTimeout());break;case j.SLOT_STATUS.TARGETING_ADDED:nt.updateStatusAndCallOriginalFunction_Display("As DM processing is already done, Calling original display function with arguments",t,i,n);break;case j.SLOT_STATUS.DISPLAYED:nt.updateStatusAndCallOriginalFunction_Display("As slot is already displayed, Calling original display function with arguments",t,i,n)}}function C(e,t,i){if(e.length>0){nt.updateStatusOfQualifyingSlotsBeforeCallingAdapters(e,t,i);var n=nt.arrayOfSelectedSlots(e);q.callAdapters(n)}}function b(e,t){return Y.getUserConsentDataFromCMP(),K.isObject(e)&&K.isFunction(t)?function(){if(K.log("In display function, with arguments: "),K.log(arguments),Q)return K.log("DisableInitialLoad was called, Nothing to do"),t.apply(e,arguments);nt.updateSlotsMapFromGoogleSlots(e.pubads().getSlots(),arguments,!0),nt.displayFunctionStatusHandler(l(arguments[0]),e,t,arguments);var i={};i[j.SLOT_STATUS.CREATED]="",nt.forQualifyingSlotNamesCallAdapters(g(i),arguments,!1);var n=arguments[0];setTimeout((function(){K.realignVLogInfoPanel(n),z.executeAnalyticsPixel()}),2e3+V.getTimeout())}:(K.log("display: originalFunction is not a function"),null)}function R(e){nt.displayHookIsAdded||(nt.displayHookIsAdded=!0,K.log("Adding hook on googletag.display."),K.addHookOnFunction(e,!1,"display",this.newDisplayFunction))}function M(e,t,i){return K.isOwnProperty(nt.slotsMap,e)&&nt.slotsMap[e].isRefreshFunctionCalled()===!0&&nt.slotsMap[e].getStatus()!==j.SLOT_STATUS.DISPLAYED?(nt.findWinningBidAndApplyTargeting(t),nt.updateStatusAfterRendering(t,!0),!0):i}function N(e,t){K.createVLogInfoPanel(e,nt.slotsMap[t].getSizes(window.innerWidth,window.innerHeight)),K.realignVLogInfoPanel(e),z.executeAnalyticsPixel()}function B(e,t,i,n){K.log("Executing post timeout events, arguments: "),K.log(n);var r=!1;K.forEachOnArray(e,(function(e,t){var i=nt.slotsMap[t].getDivID();r=nt.findWinningBidIfRequired_Refresh(t,i,r),window.setTimeout((function(){nt.postRederingChores(i,t)}),2e3)})),this.callOriginalRefeshFunction(r,t,i,n)}function F(e,t,i,n){e===!0?(K.log("Calling original refresh function post timeout"),i.apply(t,n)):K.log("AdSlot already rendered")}function L(e,t){var i=[],n=[];return n=0==e.length||null==e[0]?t.getSlots():e[0],K.forEachOnArray(n,(function(e,t){var n=nt.generateSlotName(t);n.length>0&&(i=i.concat(n))})),i}function G(e,t){return Y.getUserConsentDataFromCMP(),K.isObject(e)&&K.isFunction(t)?function(){K.log("In Refresh function"),nt.updateSlotsMapFromGoogleSlots(e.getSlots(),arguments,!1);var i=L(arguments,e);nt.forQualifyingSlotNamesCallAdapters(i,arguments,!0),K.log("Intiating Call to original refresh function with Timeout: "+V.getTimeout()+" ms");var n=arguments;"object"==typeof window.OWT.externalBidderStatuses[i[0]]&&window.OWT.externalBidderStatuses[i[0]]&&nt.executeDisplay(V.getTimeout(),i,(function(){nt.postTimeoutRefreshExecution(i,e,t,n)})),setTimeout((function(){nt.postTimeoutRefreshExecution(i,e,t,n)}),V.getTimeout())}:(K.log("refresh: originalFunction is not a function"),null)}function U(e){if(K.isObject(e)&&K.isObject(e.googletag)&&K.isFunction(e.googletag.pubads)){var t=e.googletag,i=t.pubads();return K.isObject(i)?(K.addHookOnFunction(i,!1,"disableInitialLoad",nt.newDisableInitialLoadFunction),K.addHookOnFunction(i,!1,"enableSingleRequest",nt.newEnableSingleRequestFunction),nt.newAddHookOnGoogletagDisplay(t),K.addHookOnFunction(i,!1,"refresh",nt.newRefreshFuncton),K.addHookOnFunction(i,!1,"setTargeting",nt.newSetTargetingFunction),K.addHookOnFunction(t,!1,"destroySlots",nt.newDestroySlotsFunction),!0):!1}return!1}function x(e){return K.isObject(e)?(e.googletag=e.googletag||{},e.googletag.cmd=e.googletag.cmd||[],!0):!1}function W(e){if(K.isUndefined(e.google_onload_fired)&&K.isObject(e.googletag)&&K.isArray(e.googletag.cmd)&&K.isFunction(e.googletag.cmd.unshift)){K.log("Succeeded to load before GPT");var t=this;return e.googletag.cmd.unshift((function(){K.log("OpenWrap initialization started"),t.addHooks(e),K.log("OpenWrap initialization completed")})),!0}return K.log("Failed to load before GPT"),!1}function k(e){return K.isObject(e)&&K.isObject(e.PWT)&&K.isFunction(e.PWT.jsLoaded)?(e.PWT.jsLoaded(),!0):!1}function H(e){e.PWT.safeFrameMessageListenerAdded||(K.addMessageEventListenerForSafeFrame(e),e.PWT.safeFrameMessageListenerAdded=!0)}var V=i(2),j=i(4),K=i(1),z=i(6),Y=i(7),q=i(11),J=i(13),X=!1;t.displayHookIsAdded=X;var Q=!1,Z=!0,$={};t.wrapperTargetingKeys=$;var et={};t.slotsMap=et;var tt={},it=null,nt=this;t.setWindowReference=n,t.getWindowReference=r,t.getAdUnitIndex=o,t.getAdSlotSizesArray=a,t.setDisplayFunctionCalledIfRequired=s,t.storeInSlotsMap=d,t.generateSlotName=u,t.updateSlotsMapFromGoogleSlots=c,t.getStatusOfSlotForDivId=l,t.updateStatusAfterRendering=p,t.getSlotNamesByStatus=g,t.removeDMTargetingFromSlot=f,t.updateStatusOfQualifyingSlotsBeforeCallingAdapters=h,t.arrayOfSelectedSlots=S,t.defineWrapperTargetingKeys=I,t.findWinningBidAndApplyTargeting=E,t.defineWrapperTargetingKey=w,t.newDisableInitialLoadFunction=m,t.newEnableSingleRequestFunction=y,t.newSetTargetingFunction=A,t.newDestroySlotsFunction=T,t.updateStatusAndCallOriginalFunction_Display=O,t.findWinningBidIfRequired_Display=v,t.processDisplayCalledSlot=D,t.executeDisplay=P,t.displayFunctionStatusHandler=_,t.forQualifyingSlotNamesCallAdapters=C,t.newDisplayFunction=b,t.newAddHookOnGoogletagDisplay=R,t.findWinningBidIfRequired_Refresh=M,t.postRederingChores=N,t.postTimeoutRefreshExecution=B,t.callOriginalRefeshFunction=F,t.getQualifyingSlotNamesForRefresh=L,t.newRefreshFuncton=G,t.addHooks=U,t.defineGPTVariables=x,t.addHooksIfPossible=W,t.callJsLoadedIfRequired=k,t.initSafeFrameListener=H,t.init=function(e){return V.initConfig(),K.isObject(e)?(nt.setWindowReference(e),nt.initSafeFrameListener(e),nt.wrapperTargetingKeys=nt.defineWrapperTargetingKeys(j.WRAPPER_TARGETING_KEYS),nt.defineGPTVariables(e),q.registerAdapters(),nt.addHooksIfPossible(e),nt.callJsLoadedIfRequired(e),!0):!1}}),(function(e,t,i){function n(){return Math.floor(100*Math.random())}function r(e,t,i){p.forEachOnObject(e,(function(e,n){S.setInitTimeForSlotsForAdapter(t,e),n.fB(t,i)}))}function o(e,t){p.forEachOnArray(e,(function(e,i){var n=i.getDivID();g.resetBid(n,t),g.setSizes(n,p.generateSlotNamesFromPattern(i,"_W_x_H_"))}))}function a(e,t){return!(e>=c.getAdapterThrottle(t))}function s(e,t){p.forEachOnObject(e,(function(e,i){g.setCallInitTime(i.getDivID(),t)}))}function d(e){if(e){var t=e.ID();p.isFunction(e.fB)?S.registeredAdapters[t]=e:p.log(t+l.MESSAGES.M3)}else p.log(l.MESSAGES.M3),p.log(e)}function u(){S.registerAdapter(f.register())}var c=i(2),l=i(4),p=i(1),g=i(6),f=i(12),h={};t.registeredAdapters=h;var S=this;t.callAdapters=function(e){var t=p.generateUUID();S.resetSlots(e,t),S.callAdapter(h,e,t)},t.getRandomNumberBelow100=n,t.callAdapter=r,t.resetSlots=o,t.throttleAdapter=a,t.setInitTimeForSlotsForAdapter=s,t.registerAdapter=d,t.registerAdapters=u}),(function(e,t,i){function n(e,t){var i=I.createBid(e.bidderCode,t),n=parseInt(e.pubmaticServerErrorCode);return i.setGrossEcpm(e.cpm),i.setDealID(e.dealId),i.setDealChannel(e.dealChannel),i.setAdHtml(e.ad||""),i.setAdUrl(e.adUrl||""),i.setWidth(e.width),i.setHeight(e.height),i.setMi(e.mi),e.native&&i.setNative(e.native),i.setReceivedTime(e.responseTimestamp),i.setServerSideResponseTime(e.serverSideResponseTime),h.getAdServerCurrency()&&(E.isOwnProperty(e,"originalCpm")||(e.originalCpm=e.cpm),E.isOwnProperty(e,"originalCurrency")||(e.originalCurrency=E.getCurrencyToDisplay()),i.setOriginalCpm(window.parseFloat(e.originalCpm)),i.setOriginalCurrency(e.originalCurrency),E.isFunction(e.getCpmInNewCurrency)?i.setAnalyticsCpm(window.parseFloat(e.getCpmInNewCurrency(S.COMMON.ANALYTICS_CURRENCY))):i.setAnalyticsCpm(i.getGrossEcpm())),1===n||2===n||6===n?(i.setDefaultBidStatus(-1),i.setWidth(0),i.setHeight(0)):3===n||4===n||5===n?(i.setDefaultBidStatus(0),0===i.isServerSide&&i.setPostTimeoutStatus()):n&&i.setDefaultBidStatus(1),E.forEachOnObject(e.adserverTargeting,(function(e,t){"hb_format"!==e&&"hb_source"!==e&&i.setKeyValuePair(e,t)})),i}function r(e,t){var i="";t.kgpvs.length>0&&t.kgpvs.forEach((function(t){e.bidderCode==t.adapterID&&(i=t.kgpv)}));var n=i.split("@");if(n&&2==n.length){var r=n[1],o=null;n[1].indexOf(":")>0&&(r=n[1].split(":")[0],o=n[1].split(":")[1]),e.getSize()&&e.getSize()!=r&&"0X0"!=e.getSize().toUpperCase()&&(n[0].toUpperCase()==r.toUpperCase()&&(n[0]=e.getSize().toLowerCase()),i=n[0]+"@"+e.getSize(),o&&(i=i+":"+o))}return i}function o(e){var t=e.adUnitCode||"";if(E.isOwnProperty(v.kgpvMap,t)){if("pubmaticServer"===e.bidderCode&&(e.bidderCode=e.originalBidder),h.isSingleImpressionSettingEnabled()&&(v.kgpvMap[t].kgpv=v.checkAndModifySizeOfKGPVIfRequired(e,v.kgpvMap[t])),e.bidderCode&&h.isServerSideAdapter(e.bidderCode)){var i=v.kgpvMap[t].divID;if(!h.isSingleImpressionSettingEnabled()){var n=v.getPBCodeWithWidthAndHeight(i,e.bidderCode,e.width,e.height),r=v.getPBCodeWithoutWidthAndHeight(i,e.bidderCode);if(E.isOwnProperty(v.kgpvMap,n))t=n;else{if(!E.isOwnProperty(v.kgpvMap,r))return E.log("Failed to find kgpv details for S2S-adapter:"+e.bidderCode),void 0;t=r}}e.ss=h.isServerSideAdapter(e.bidderCode)?1:0}e.bidderCode&&(e.timeToRespond<D&&E.handleHook(S.HOOKS.BID_RECEIVED,[v.kgpvMap[t].divID,e]),w.setBidFromBidder(v.kgpvMap[t].divID,v.transformPBBidToOWBid(e,v.kgpvMap[t].kgpv)))}else E.log("Failed to find pbBid.adUnitCode in kgpvMap, pbBid.adUnitCode:"+e.adUnitCode)}function a(e){for(var t in e)if(E.isOwnProperty(e,t)&&E.isOwnProperty(v.kgpvMap,t))for(var i=e[t],r=i.bids||[],o=0;o<r.length;o++){var a=r[o];a.bidderCode&&w.setBidFromBidder(v.kgpvMap[t].divID,n(a,v.kgpvMap[t].kgpv))}}function s(e,t,i,n){return e+"@"+t+"@"+i+"X"+n}function d(e,t){return e+"@"+t}function u(e,t,i){var n=!1;return E.isOwnProperty(e,t)&&e[t].bids.forEach((function(e){e.bidder==i&&(n=!0)})),n}function c(e,t,i,n,r,o,a,s,d,c){var l,p,g=a.getDivID();if(h.isSingleImpressionSettingEnabled()){l=a.getDivID(),p=a.getSizes();var f=!1;if(v.kgpvMap[l]&&v.kgpvMap[l].kgpvs&&v.kgpvMap[l].kgpvs.length>0){if(E.forEachOnArray(v.kgpvMap[l].kgpvs,(function(t,i){i.adapterID==e&&(f=!0)})),f&&u(t,l,e))return}else v.kgpvMap[l]={kgpvs:[],divID:g};if(!f){var S={adapterID:e,kgpv:r};v.kgpvMap[l].kgpvs.push(S)}}else o?(l=v.getPBCodeWithWidthAndHeight(g,e,d,c),p=[[d,c]]):(l=v.getPBCodeWithoutWidthAndHeight(g,e),p=a.getSizes()),v.kgpvMap[l]={kgpv:r,divID:g};if(h.isServerSideAdapter(e))return E.log("Not calling adapter: "+e+", for "+r+", as it is serverSideEnabled."),void 0;if(E.isOwnProperty(t,l)){if(h.isSingleImpressionSettingEnabled()&&u(t,l,e))return}else t[l]={code:l,mediaTypes:E.getMediaTypeObject(h.getNativeConfiguration(),p,a),sizes:p,bids:[],divID:g};var I={};switch(E.forEachOnObject(s,(function(e,t){I[e]=t})),e){case"pubmaticServer":I.publisherId=i.publisherId,I.adUnitIndex=""+a.getAdUnitIndex(),I.adUnitId=a.getAdUnitID(),I.divId=a.getDivID(),I.adSlot=r,I.wiid=n,I.profId=h.getProfileID(),window.PWT.udpv&&(I.verId=h.getProfileDisplayVersionID()),t[l].bids.push({bidder:e,params:I});break;case"pubmatic":I.publisherId=i.publisherId,I.adSlot=r,I.wiid=n,I.profId=h.getProfileID(),window.PWT.udpv&&(I.verId=h.getProfileDisplayVersionID()),t[l].bids.push({bidder:e,params:I});break;case"pulsepoint":E.forEachOnArray(p,(function(i,n){var r={};E.forEachOnObject(s,(function(e,t){r[e]=t})),r.cf=n[0]+"x"+n[1],t[l].bids.push({bidder:e,params:r})}));break;case"adg":E.forEachOnArray(p,(function(i,n){var r={};E.forEachOnObject(s,(function(e,t){r[e]=t})),r.width=n[0],r.height=n[1],t[l].bids.push({bidder:e,params:r})}));break;case"yieldlab":E.forEachOnArray(p,(function(i,n){var r={};E.forEachOnObject(s,(function(e,t){r[e]=t})),r.adSize=n[0]+"x"+n[1],t[l].bids.push({bidder:e,params:r})}));break;case"ix":case"indexExchange":E.forEachOnArray(p,(function(i,n){var r={};s.siteID&&(r.siteId=s.siteID),r.size=n,t[l].bids.push({bidder:e,params:r})}));break;default:t[l].bids.push({bidder:e,params:I})}}function l(e,t,i,n,r){E.log(e+S.MESSAGES.M1),t&&E.forEachGeneratedKey(e,n,t,r,[],i,t[S.CONFIG.KEY_GENERATION_PATTERN],t[S.CONFIG.KEY_LOOKUP_MAP]||null,v.generatedKeyCallback,!0)}function p(e){E.forEachOnObject(S.SRA_ENABLED_BIDDERS,(function(t){E.isOwnProperty(y.adapters,t)&&(e[t]={singleRequest:!0})}))}function g(e,t){if(!window[T])return E.log("PreBid js is not loaded"),void 0;if(!E.isFunction(window[T].onEvent))return E.log("PreBid js onEvent method is not available"),void 0;P||(window[T].onEvent("bidResponse",v.pbBidStreamHandler),P=!0),window[T].logging=E.isDebugLogEnabled();var i={},n=m.getRandomNumberBelow100();h.forEachAdapter((function(r,o){r!==v.parentAdapterID&&(h.isServerSideAdapter(r)||0==m.throttleAdapter(n,r)?(m.setInitTimeForSlotsForAdapter(e,r),v.generatePbConf(r,o,e,i,t)):E.log(r+S.MESSAGES.M2))}));var r=[];for(var o in i)E.isOwnProperty(i,o)&&r.push(i[o]);if(r.length>0&&window[T])try{if(E.isFunction(window[T].setConfig)||"function"==typeof window[T].setConfig){var a={debug:E.isDebugLogEnabled(),bidderSequence:"random",userSync:{enableOverride:!0,syncsPerBidder:0,iframeEnabled:!0,pixelEnabled:!0,enabledBidders:(function(){var e=[];return h.forEachAdapter((function(t){e.push(t)})),e})(),syncDelay:2e3},disableAjaxTimeout:h.getDisableAjaxTimeout()};h.getGdpr()&&(a.consentManagement={cmpApi:h.getCmpApi(),timeout:h.getGdprTimeout(),allowAuctionWithoutConsent:h.getAwc()}),h.getAdServerCurrency()&&(E.log(S.MESSAGES.M26+h.getAdServerCurrency()),a.currency={adServerCurrency:h.getAdServerCurrency(),granularityMultiplier:1}),v.assignSingleRequestConfigForBidders(a),E.handleHook(S.HOOKS.PREBID_SET_CONFIG,[a]),window[T].setConfig(a)}if(!E.isFunction(window[T].requestBids)&&"function"!=typeof window[T].requestBids)return E.log("PreBid js requestBids function is not available"),void 0;E.handleHook(S.HOOKS.PREBID_REQUEST_BIDS,[r]),window[T].requestBids({adUnits:r,bidsBackHandler:function(e){E.log("In PreBid bidsBackHandler with bidResponses: "),E.log(e),setTimeout(window[T].triggerUserSyncs,10)},timeout:D})}catch(s){E.log("Error occured in calling PreBid."),E.log(s)}}function f(){return v.parentAdapterID}var h=i(2),S=i(4),I=i(5),E=i(1),w=i(6),m=i(11),y=i(3),A=S.COMMON.PARENT_ADAPTER_PREBID,T=S.COMMON.PREBID_NAMESPACE;t.parentAdapterID=A;var O={};t.kgpvMap=O;var v=this,D=h.getTimeout()-50,P=!1;
t.transformPBBidToOWBid=n,t.checkAndModifySizeOfKGPVIfRequired=r,t.pbBidStreamHandler=o,t.handleBidResponses=a,t.getPBCodeWithWidthAndHeight=s,t.isAdUnitsCodeContainBidder=u,t.getPBCodeWithoutWidthAndHeight=d,t.generatedKeyCallback=c,t.generatePbConf=l,t.assignSingleRequestConfigForBidders=p,t.fetchBids=g,t.getParenteAdapterID=f,t.register=function(){return{fB:v.fetchBids,ID:v.getParenteAdapterID}}}),(function(e,t,i){function n(e){this.name=e,this.status=r.SLOT_STATUS.CREATED,this.divID="",this.adUnitID="",this.adUnitIndex=0,this.sizes=[],this.keyValues={},this.arguments=[],this.pubAdServerObject=null,this.displayFunctionCalled=!1,this.refreshFunctionCalled=!1}var r=i(4);n.prototype.getName=function(){return this.name},n.prototype.setStatus=function(e){return this.status=e,this},n.prototype.getStatus=function(){return this.status},n.prototype.setDivID=function(e){return this.divID=e,this},n.prototype.getDivID=function(){return this.divID},n.prototype.setAdUnitID=function(e){return this.adUnitID=e,this},n.prototype.getAdUnitID=function(){return this.adUnitID},n.prototype.setAdUnitIndex=function(e){return this.adUnitIndex=e,this},n.prototype.getAdUnitIndex=function(){return this.adUnitIndex},n.prototype.setSizes=function(e){return this.sizes=e,this},n.prototype.getSizes=function(){return this.sizes},n.prototype.setKeyValue=function(e,t){return this.keyValues[e]=t,this},n.prototype.setKeyValues=function(e){return this.keyValues=e,this},n.prototype.getkeyValues=function(){return this.keyValues},n.prototype.setArguments=function(e){return this.arguments=e,this},n.prototype.getArguments=function(){return this.arguments},n.prototype.setPubAdServerObject=function(e){return this.pubAdServerObject=e,this},n.prototype.getPubAdServerObject=function(){return this.pubAdServerObject},n.prototype.setDisplayFunctionCalled=function(e){return this.displayFunctionCalled=e,this},n.prototype.isDisplayFunctionCalled=function(){return this.displayFunctionCalled},n.prototype.setRefreshFunctionCalled=function(e){return this.refreshFunctionCalled=e,this},n.prototype.isRefreshFunctionCalled=function(){return this.refreshFunctionCalled},n.prototype.updateStatusAfterRendering=function(e){this.status=r.SLOT_STATUS.DISPLAYED,this.arguments=[],e?this.refreshFunctionCalled=!1:this.displayFunctionCalled=!1},e.exports.Slot=n,t.createSlot=function(e){return new n(e)}})]);