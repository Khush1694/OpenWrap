!(function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)})([(function(e,t,i){var n=i(1),r=i(10),o=i(6),a=i(4),s=i(2),d=n.getMetaInfo(window);window.PWT=window.PWT||{},window.PWT.bidMap=window.PWT.bidMap||{},window.PWT.bidIdMap=window.PWT.bidIdMap||{},window.PWT.isIframe=window.PWT.isIframe||d.isInIframe,window.PWT.protocol=window.PWT.protocol||d.protocol,window.PWT.secure=window.PWT.secure||d.secure,window.PWT.pageURL=window.PWT.pageURL||d.pageURL,window.PWT.refURL=window.PWT.refURL||d.refURL,window.PWT.isSafeFrame=window.PWT.isSafeFrame||!1,window.PWT.safeFrameMessageListenerAdded=window.PWT.safeFrameMessageListenerAdded||!1,window.PWT.udpv=window.PWT.udpv||n.findQueryParamInURL(d.isIframe?d.refURL:d.pageURL,"pwtv"),n.findQueryParamInURL(d.isIframe?d.refURL:d.pageURL,"pwtc")&&n.enableDebugLog(),n.findQueryParamInURL(d.isIframe?d.refURL:d.pageURL,"pwtvc")&&n.enableVisualDebugLog(),window.PWT.displayCreative=function(e,t){n.log("In displayCreative for: "+t),s.isPrebidPubMaticAnalyticsEnabled()?window[a.COMMON.PREBID_NAMESPACE].renderAd(e,t):o.displayCreative(e,t)},window.PWT.displayPMPCreative=function(e,t,i){n.log("In displayPMPCreative for: "+t);var r=n.getBididForPMP(t,i);r&&o.displayCreative(e,r)},window.PWT.sfDisplayCreative=function(e,t){n.log("In sfDisplayCreative for: "+t),this.isSafeFrame=!0,window.parent.postMessage(JSON.stringify({pwt_type:"1",pwt_bidID:t,pwt_origin:a.COMMON.PROTOCOL+window.location.hostname}),"*")},window.PWT.sfDisplayPMPCreative=function(e,t,i){n.log("In sfDisplayPMPCreative for: "+t),this.isSafeFrame=!0,window.parent.postMessage(JSON.stringify({pwt_type:"1",pwt_bidID:n.getBididForPMP(t,i),pwt_origin:a.COMMON.PROTOCOL+window.location.hostname}),"*")},window.PWT.initNativeTrackers=function(e,t){n.log("In startTrackers for: "+t),n.addEventListenerForClass(window,"click",a.COMMON.OW_CLICK_NATIVE,o.loadTrackers),o.executeTracker(t)},window.PWT.getUserIds=function(){return n.getUserIds()},window.OWT={notifyCount:0,externalBidderStatuses:{}},window.OWT.registerExternalBidders=function(e){return window.OWT.notifyCount++,n.forEachOnArray(e,(function(e,t){n.log("registerExternalBidders: "+t),window.OWT.externalBidderStatuses[t]={id:window.OWT.notifyCount,status:!1}})),window.OWT.notifyCount},window.OWT.notifyExternalBiddingComplete=function(e){n.forEachOnObject(window.OWT.externalBidderStatuses,(function(t,i){i&&i.id===e&&(n.log("notify externalBidding complete: "+t),window.OWT.externalBidderStatuses[t]={id:i.id,status:!0})}))},window.PWT.UpdateVastWithTracker=function(e,t){return n.UpdateVastWithTracker(e,t)},window.PWT.generateDFPURL=function(e,t){var i="";if(e&&n.isObject(e)||n.logError("An AdUnit should be an Object",e),!(e.bidData&&e.bidData.wb&&e.bidData.kvp))return n.logWarning("No bid found for given adUnit"),void 0;e.bid=e.bidData.wb,e.bid.adserverTargeting=e.bidData.kvp;var r={adUnit:e,params:{iu:e.adUnitId,cust_params:t,output:"vast"}};return e.bid&&(r.bid=e.bid),i=window.owpbjs.adServers.dfp.buildVideoUrl(r)},window.PWT.getCustomParamsForDFPVideo=function(e,t){return n.getCustomParamsForDFPVideo(e,t)},r.init(window)}),(function(e,t,i){function n(e,t){return I.call(e)==="[object "+t+"]"}function r(e,t,i,n,r,o,c,u,p,g){var l=i[a.CONFIG.KEY_LOOKUP_MAP]||i[a.CONFIG.REGEX_KEY_LOOKUP_MAP]||null,f=g.indexOf(a.MACROS.WIDTH)>=0&&g.indexOf(a.MACROS.HEIGHT)>=0,I=i[a.CONFIG.REGEX_KEY_LOOKUP_MAP]?!0:!1,h=void 0;E.forEachOnArray(o,(function(o,g){var m=null,O=!1,A=c.getSizes();if(null==l)O=!0;else{if(I){E.debugLogIsEnabled&&E.log(console.time("Time for regexMatching for key "+g));var w=E.getConfigFromRegex(l,g);E.debugLogIsEnabled&&E.log(console.timeEnd("Time for regexMatching for key "+g)),w&&(m=w.config,h=w.regexPattern)}else m=l[g];m?E.checkMandatoryParams(m,r,e)?O=!0:E.log(e+": "+g+a.MESSAGES.M9):E.log(e+": "+g+a.MESSAGES.M8)}if(O){if(1==p){var S=s.createBid(e,g);S.setDefaultBidStatus(1).setReceivedTime(E.getCurrentTimestampInMs()),d.setBidFromBidder(c.getDivID(),S),S.setRegexPattern(h)}u(e,t,i,n,g,f,c,E.getPartnerParams(m),A[o][0],A[o][1],h)}}))}var o=i(2),a=i(4),s=i(5),d=i(6),c=!1;t.debugLogIsEnabled=c;var u=!1;t.visualDebugLogIsEnabled=u;var p="Array",g="String",l="Function",f="Number",I=Object.prototype.toString,E=this;E.idsAppendedToAdUnits=!1;var h={};t.mediaTypeConfig=h,t.isA=n,t.isFunction=function(e){return E.isA(e,l)},t.isString=function(e){return E.isA(e,g)},t.isArray=function(e){return E.isA(e,p)},t.isNumber=function(e){return E.isA(e,f)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isOwnProperty=function(e,t){return E.isObject(e)&&e.hasOwnProperty?e.hasOwnProperty(t):!1},t.isUndefined=function(e){return"undefined"==typeof e},t.enableDebugLog=function(){E.debugLogIsEnabled=!0},t.isDebugLogEnabled=function(){return E.debugLogIsEnabled},t.enableVisualDebugLog=function(){E.debugLogIsEnabled=!0,E.visualDebugLogIsEnabled=!0},t.isEmptyObject=function(e){return E.isObject(e)&&0===Object.keys(e).length};var m="[OpenWrap] : ",O="[OpenWrap] : [Error]";t.log=function(e){E.debugLogIsEnabled&&console&&this.isFunction(console.log)&&(this.isString(e)?console.log((new Date).getTime()+" : "+m+e):console.log(e))},t.logError=function(e){E.debugLogIsEnabled&&console&&this.isFunction(console.log)&&(this.isString(e)?console.error((new Date).getTime()+" : "+m+e):console.error(e))},t.logWarning=function(e){E.debugLogIsEnabled&&console&&this.isFunction(console.log)&&(this.isString(e)?console.warn((new Date).getTime()+" : "+m+e):console.warn(e))},t.error=function(e){console.log((new Date).getTime()+" : "+O,e)},t.getCurrentTimestampInMs=function(){var e=new window.Date;return e.getTime()},t.getCurrentTimestamp=function(){var e=new Date;return Math.round(e.getTime()/1e3)};var A=(function(){var e=0;return function(){return e++,e}})();t.utilGetIncrementalInteger=A,t.getUniqueIdentifierStr=function(){return A()+window.Math.random().toString(16).substr(2)},t.copyKeyValueObject=function(e,t){if(E.isObject(e)&&E.isObject(t)){var i=E;E.forEachOnObject(t,(function(n,r){if(t[n]=i.isArray(r)?r:[r],i.isOwnProperty(e,n)){if(!E.isArray(e[n])){var o=e[n];e[n]=[o]}e[n].push(r)}else e[n]=[r]}))}},t.getIncrementalInteger=(function(){var e=0;return function(){return e++,e}})(),t.generateUUID=function(){var e=(new window.Date).getTime(),t=window.decodeURIComponent(this.pageURL).toLowerCase().replace(/[^a-z,A-Z,0-9]/gi,""),i=t.length,n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx-zzzzz".replace(/[xyz]/g,(function(n){var r=(e+16*Math.random())%16|0;e=Math.floor(e/16);var o;switch(n){case"x":o=r;break;case"z":o=t[Math.floor(Math.random()*i)];break;default:o=3&r|8}return o.toString(16)}));return n};var w="g",S=new RegExp(a.MACROS.WIDTH,w),v=new RegExp(a.MACROS.HEIGHT,w),P=new RegExp(a.MACROS.AD_UNIT_ID,w),y=new RegExp(a.MACROS.AD_UNIT_INDEX,w),C=new RegExp(a.MACROS.INTEGER,w),T=new RegExp(a.MACROS.DIV,w);t.generateSlotNamesFromPattern=function(e,t,i){var n,r,o,a,s=[],d={};if(E.isObject(e)&&E.isFunction(e.getSizes)&&(r=e.getSizes(),o=r.length,o>0))for(a=0;o>a;a++)if(2==r[a].length&&r[a][0]&&r[a][1]||E.isFunction(r[a].getWidth)&&E.isFunction(r[a].getHeight)){var c=E.isFunction(e.getAdUnitID)?e.getAdUnitID():e.getSlotId().getAdUnitPath(),u=E.isFunction(e.getDivID)?e.getDivID():e.getSlotId().getDomId(),p=E.isFunction(e.getAdUnitIndex)?e.getAdUnitIndex():e.getSlotId().getId().split("_")[1],g=r[a][0]||r[a].getWidth(),l=r[a][1]||r[a].getHeight();if(n=t,n=n.replace(P,c).replace(y,p).replace(C,E.getIncrementalInteger()).replace(T,u),i){var f=E.mediaTypeConfig[u];n=f&&f.video?n.replace(S,"0").replace(v,"0"):n.replace(S,g).replace(v,l)}else n=n.replace(S,g).replace(v,l);E.isOwnProperty(d,n)||(d[n]="",s.push(n))}return s},t.checkMandatoryParams=function(e,t,i){var n=!1,r=!0;if(!e||!E.isObject(e)||E.isArray(e))return E.logWarning(i+"provided object is invalid."),n;if(!E.isArray(t))return E.logWarning(i+"provided keys must be in an array."),n;var o=t.length;if(0==o)return r;for(var a=0;o>a;a++)if(!E.isOwnProperty(e,t[a]))return E.logError(i+": "+t[a]+", mandatory parameter not present."),n;return r},t.forEachGeneratedKey=function(e,t,i,n,r,o,s,d){var c=o.length,u=i[a.CONFIG.KEY_GENERATION_PATTERN]||i[a.CONFIG.REGEX_KEY_GENERATION_PATTERN]||"";c>0&&u.length>3&&E.forEachOnArray(o,(function(o,a){var c=E.generateSlotNamesFromPattern(a,u,!0);c.length>0&&E.callHandlerFunctionForMapping(e,t,i,n,r,c,a,s,d,u)}))},t.callHandlerFunctionForMapping=r,t.resizeWindow=function(e,t,i,n){if(i&&t)try{var r=e.defaultView.frameElement,o=[];if(n){var a=document.getElementById(n),s=a.querySelector("div");o.push(s),o.push(s.querySelector("iframe")),r=a.querySelector("iframe")}o.push(r),o.forEach((function(e){e&&(e.width=""+t,e.height=""+i,e.style.width=""+t+"px",e.style.height=""+i+"px")}))}catch(d){E.logError("Creative-Resize; Error in resizing creative")}},t.writeIframe=function(e,t,i,n,r){e.write('<iframe frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" scrolling="no" width="'+i+'" hspace="0" vspace="0" height="'+n+'"'+(r?' style="'+r+'"':"")+' src="'+t+'"></iframe>')},t.displayCreative=function(e,t){t&&t.pbbid&&"video"==t.pbbid.mediaType&&t.renderer&&E.isObject(t.renderer)?E.isFunction(t.renderer.render)&&t.renderer.render(t.getPbBid()):(E.resizeWindow(e,t.width,t.height),t.adHtml?("appier"==t.getAdapterID().toLowerCase()&&(t.adHtml=E.replaceAuctionPrice(t.adHtml,t.getGrossEcpm())),e.write(t.adHtml)):t.adUrl?("appier"==t.getAdapterID().toLowerCase()&&(t.adUrl=E.replaceAuctionPrice(t.adUrl,t.getGrossEcpm())),E.writeIframe(e,t.adUrl,t.width,t.height,"")):(E.logError("creative details are not found"),E.logError(t)))},t.getScreenWidth=function(e){var t=-1;return e.innerHeight?t=e.innerWidth:e.document&&e.document.documentElement&&e.document.documentElement.clientWidth?t=e.document.documentElement.clientWidth:e.document.body&&(t=e.document.body.clientWidth),t},t.getScreenHeight=function(e){var t=-1;return e.innerHeight?t=e.innerHeight:e.document&&e.document.documentElement&&e.document.documentElement.clientHeight?t=e.document.documentElement.clientHeight:e.document.body&&(t=e.document.body.clientHeight),t},t.forEachOnObject=function(e,t){if(E.isObject(e)&&E.isFunction(t))for(var i in e)E.isOwnProperty(e,i)&&t(i,e[i])},t.forEachOnArray=function(e,t){if(E.isArray(e)&&E.isFunction(t))for(var i=0,n=e.length;n>i;i++)t(i,e[i])},t.trim=function(e){return E.isString(e)?e.replace(/^\s+/g,"").replace(/\s+$/g,""):e},t.getTopFrameOfSameDomain=function(e){try{if(e.parent.document!=e.document)return E.getTopFrameOfSameDomain(e.parent)}catch(t){}return e},t.metaInfo={},t.getMetaInfo=function(e){var t,i={},n=512;i.pageURL="",i.refURL="",i.protocol="https://",i.secure=1,i.isInIframe=E.isIframe(e);try{t=E.getTopFrameOfSameDomain(e),i.refURL=(t.refurl||t.document.referrer||"").substr(0,n),i.pageURL=(t!==window.top&&""!=t.document.referrer?t.document.referrer:t.location.href).substr(0,n),i.protocol=(function(e){return"http:"===e.location.protocol?(i.secure=0,"http://"):(i.secure=1,"https://")})(t)}catch(r){}return i.pageDomain=E.getDomainFromURL(i.pageURL),E.metaInfo=i,i},t.isIframe=function(e){try{return e.self!==e.top}catch(t){return!1}},t.findInString=function(e,t){return e.indexOf(t)>=0},t.findQueryParamInURL=function(e,t){return E.isOwnProperty(E.parseQueryParams(e),t)},t.parseQueryParams=function(e){var t=E.createDocElement(window,"a");t.href=e;var i={};if(t.search){var n=t.search.replace("?","");n=n.split("&"),E.forEachOnArray(n,(function(e,t){var t=t.split("="),n=t[0]||"",r=t[1]||"";i[n]=r}))}return i},t.createDocElement=function(e,t){return e.document.createElement(t)},t.addHookOnFunction=function(e,t,i,n){var r=e;if(e=t?e.__proto__:e,E.isObject(e)&&E.isFunction(e[i])){var o=e[i];e[i]=n(r,o)}else E.logWarning("in assignNewDefination: oldReference is not a function")},t.getBididForPMP=function(e,t){e=e.split(",");var i=e.length,n=t.length,r="",o="";if(0==i)return this.log("Error: Unable to find bidID as values array is empty."),void 0;for(var s=0;n>s;s++){for(var d=0;i>d;d++)if(e[d].indexOf(t[s])>=0){r=e[d];break}if(""!=r)break}""==r?(r=e[0],this.log("No PMP-Deal was found matching PriorityArray, So Selecting first PMP-Deal: "+r)):this.log("Selecting PMP-Deal: "+r);var c=r.split(a.COMMON.DEAL_KEY_VALUE_SEPARATOR);return 3==c.length&&(o=c[2]),o?o:(this.log("Error: bidID not found in PMP-Deal: "+r),void 0)},t.createInvisibleIframe=function(){var e=E.createDocElement(window,"iframe");return e.id=E.getUniqueIdentifierStr(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:self",e.style="display:none",e},t.addMessageEventListener=function(e,t){return"function"!=typeof t?(E.log("EventHandler should be a function"),!1):(e.addEventListener?e.addEventListener("message",t,!1):e.attachEvent("onmessage",t),!0)},t.safeFrameCommunicationProtocol=function(e){try{if(msgData=window.JSON.parse(e.data),!msgData.pwt_type)return;switch(window.parseInt(msgData.pwt_type)){case 1:if(window.PWT.isSafeFrame)return;var t=d.getBidById(msgData.pwt_bidID);if(t){var i=t.bid,n=i.getAdapterID(),r=t.slotid,o={pwt_type:2,pwt_bid:i};E.vLogInfo(r,{type:"disp",adapter:n}),d.executeMonetizationPixel(r,i),i&&i.pbbid&&"video"==i.pbbid.mediaType&&i.renderer&&E.isObject(i.renderer)?E.isFunction(i.renderer.render)&&i.renderer.render(i.getPbBid()):(E.resizeWindow(window.document,i.width,i.height,r),e.source.postMessage(window.JSON.stringify(o),msgData.pwt_origin))}break;case 2:if(!window.PWT.isSafeFrame)return;if(msgData.pwt_bid){var i=msgData.pwt_bid;if(i.adHtml)try{var a=E.createInvisibleIframe(window.document);if(!a)throw{message:"Failed to create invisible frame.",name:""};if(a.setAttribute("width",i.width),a.setAttribute("height",i.height),a.style="",window.document.body.appendChild(a),!a.contentWindow)throw{message:"Unable to access frame window.",name:""};var s=a.contentWindow.document;if(!s)throw{message:"Unable to access frame window document.",name:""};var c='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;</script></head>';c+="<body>",c+="<script>var $sf = window.parent.$sf;</script>",c+="<script>setInterval(function(){try{var fr = window.document.defaultView.frameElement;fr.width = window.parent.document.defaultView.innerWidth;fr.height = window.parent.document.defaultView.innerHeight;}catch(e){}}, 200);</script>",c+=i.adHtml,c+="</body></html>",s.write(c),s.close()}catch(u){E.logError("Error in rendering creative in safe frame."),E.log(u),E.log("Rendering synchronously."),E.displayCreative(window.document,msgData.pwt_bid)}else i.adUrl?E.writeIframe(window.document,i.adUrl,i.width,i.height,""):(E.logWarning("creative details are not found"),E.log(i))}break;case 3:var t=d.getBidById(msgData.pwt_bidID);if(t){var i=t.bid,n=i.getAdapterID(),r=t.slotid;E.vLogInfo(r,{type:"disp",adapter:n}),msgData.pwt_action&&"imptrackers"==msgData.pwt_action&&d.executeMonetizationPixel(r,i),d.fireTracker(i,msgData.pwt_action)}}}catch(u){}},t.addMessageEventListenerForSafeFrame=function(e){E.addMessageEventListener(e,E.safeFrameCommunicationProtocol)},t.getElementLocation=function(e){var t,i=0,n=0;if(E.isFunction(e.getBoundingClientRect))t=e.getBoundingClientRect(),i=Math.floor(t.left),n=Math.floor(t.top);else for(;e;)i+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return{x:i,y:n}},t.createVLogInfoPanel=function(e,t){var i,n,r,o=window.document;if(E.visualDebugLogIsEnabled&&(i=o.getElementById(e),i&&t.length&&t[0][0]&&t[0][1]&&(r=e+"-pwtc-info",!E.isUndefined(o.getElementById(r))))){var a=E.getElementLocation(i);n=o.createElement("div"),n.id=r,n.style="position: absolute; /*top: "+a.y+"px;*/ left: "+a.x+"px; width: "+t[0][0]+"px; height: "+t[0][1]+"px; border: 1px solid rgb(255, 204, 52); padding-left: 11px; background: rgb(247, 248, 224) none repeat scroll 0% 0%; overflow: auto; z-index: 9999997; visibility: hidden;opacity:0.9;font-size:13px;font-family:monospace;";var s=o.createElement("img");s.src=E.metaInfo.protocol+"ads.pubmatic.com/AdServer/js/pwt/close.png",s.style="cursor:pointer; position: absolute; top: 2px; left: "+(a.x+t[0][0]-16-15)+"px; z-index: 9999998;",s.title="close",s.onclick=function(){n.style.display="none"},n.appendChild(s),n.appendChild(o.createElement("br"));for(var d="Slot: "+e+" | ",c=0;c<t.length;c++)d+=(0!=c?", ":"")+t[c][0]+"x"+t[c][1];n.appendChild(o.createTextNode(d)),n.appendChild(o.createElement("br")),i.parentNode.insertBefore(n,i)}},t.realignVLogInfoPanel=function(e){var t,i,n,r=window.document;if(E.visualDebugLogIsEnabled&&(t=r.getElementById(e),t&&(n=e+"-pwtc-info",i=r.getElementById(n)))){var o=E.getElementLocation(t);i.style.visibility="visible",i.style.left=o.x+"px",i.style.height=t.clientHeight+"px"}},t.vLogInfo=function(e,t){var i,n,r=window.document;if(E.visualDebugLogIsEnabled){var o=e+"-pwtc-info";if(i=r.getElementById(o)){switch(t.type){case"bid":var a=t.latency,s=t.bidDetails,d="";0>a&&(a=0),d=t.hasOwnProperty("adServerCurrency")&&void 0!==t.adServerCurrency?0==t.adServerCurrency?"USD":t.adServerCurrency:"USD",n="Bid: "+t.bidder+(t.s2s?"(s2s)":"")+": "+s.getNetEcpm()+"("+s.getGrossEcpm()+")"+d+" :"+a+"ms",s.getPostTimeoutStatus()&&(n+=": POST-TIMEOUT");break;case"win-bid":var s=t.bidDetails,d="";d=t.hasOwnProperty("adServerCurrency")&&void 0!==t.adServerCurrency?0==t.adServerCurrency?"USD":t.adServerCurrency:"USD",n="Winning Bid: "+s.getAdapterID()+": "+s.getNetEcpm()+d;break;case"win-bid-fail":n="There are no bids from PWT";break;case"hr":n="----------------------";break;case"disp":n="Displaying creative from "+t.adapter}i.appendChild(r.createTextNode(n)),i.appendChild(r.createElement("br"))}}},t.getExternalBidderStatus=function(e){var t=!0;return E.forEachOnArray(e,(function(e,i){t=window.OWT.externalBidderStatuses[i]?t&&window.OWT.externalBidderStatuses[i].status:t})),t},t.resetExternalBidderStatus=function(e){E.forEachOnArray(e,(function(e,t){E.log("resetExternalBidderStatus: "+t),window.OWT.externalBidderStatuses[t]=void 0}))},t.ajaxRequest=function(e,t,i,n){try{n=n||{};var r,o=4,a=!0,s=n.method||(i?"POST":"GET");if(window.XMLHttpRequest?(r=new window.XMLHttpRequest,E.isUndefined(r.responseType)&&(a=!1)):a=!1,!a)return E.log("Ajax is not supported"),void 0;r.onreadystatechange=function(){r.readyState===o&&t&&t(r.responseText,r)},r.open(s,e),n.withCredentials&&(r.withCredentials=!0),n.preflight&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type",n.contentType||"text/plain"),r.send("POST"===s&&i)}catch(d){E.log("Failed in Ajax"),E.log(d)}},t.getAdUnitConfig=function(e,t){var i={},n={},r=o.getSlotConfiguration();if(r)if(r.configPattern&&""!=r.configPattern.trim()||(r.configPattern="_AU_")){var s=r.configPattern,d=!0,c=!0,u=!0,p=void 0,g=E.isFunction(t.getDivID)?t.getDivID():t.getSlotId().getDomId(),l=E.generateSlotNamesFromPattern(t,s,!1)[0];if(E.isOwnProperty(r.config,a.COMMON.DEFAULT)&&(r.config[a.COMMON.DEFAULT].banner&&E.isOwnProperty(r.config[a.COMMON.DEFAULT].banner,"enabled")&&!r.config[a.COMMON.DEFAULT].banner.enabled&&(u=!1),r.config[a.COMMON.DEFAULT].native&&E.isOwnProperty(r.config[a.COMMON.DEFAULT].native,"enabled")&&!r.config[a.COMMON.DEFAULT].native.enabled&&(c=!1),r.config[a.COMMON.DEFAULT].video&&E.isOwnProperty(r.config[a.COMMON.DEFAULT].video,"enabled")&&!r.config[a.COMMON.DEFAULT].video.enabled&&(d=!1),p=r.config[a.COMMON.DEFAULT],p.renderer&&!E.isEmptyObject(p.renderer)&&(i.renderer=p.renderer)),E.isOwnProperty(r.config,l)?(p=r.config[l],E.log("Config"+JSON.stringify(p)+" found for adSlot: "+JSON.stringify(t))):E.log("Considering Default Config for "+JSON.stringify(t)),p){if(c&&p.native&&(!E.isOwnProperty(p.native,"enabled")||p.native.enabled)&&(p.native.config?n["native"]=p.native.config:E.logWarning("Native Config will not be considered as no config has been provided for slot"+JSON.stringify(t)+" or there is no configuration defined in default.")),d&&p.video&&(!E.isOwnProperty(p.video,"enabled")||p.video.enabled)&&(o.getAdServer()!=a.AD_SERVER.DFP?p.video.config?(n.video=p.video.config,p.video.partnerConfig&&(n.partnerConfig=p.video.partnerConfig)):E.logWarning("Video Config will not be considered as no config has been provided for slot"+JSON.stringify(t)+" or there is no configuration defined in default."):E.logWarning("Video Config will not be considered with DFP selected as AdServer.")),p.renderer&&!E.isEmptyObject(p.renderer)&&(i.renderer=p.renderer),!u||p.banner&&E.isOwnProperty(p.banner,"enabled")&&!p.banner.enabled)return E.mediaTypeConfig[g]=n,i.mediaTypeObject=n,i}else E.log("Config not found for adSlot: "+JSON.stringify(t))}else E.logWarning("Slot Type not found in config. Please provide slotType in configuration");return n.banner={sizes:e},E.mediaTypeConfig[g]=n,i.mediaTypeObject=n,i},t.addEventListenerForClass=function(e,t,i,n){if("function"!=typeof n)return E.log("EventHandler should be a function"),!1;var r=E.findElementsByClass(e,i);e.addEventListener||(t="on"+t);for(var o=0;o<r.length;o++)r[o].addEventListener(t,n,!0);return!0},t.findElementsByClass=function(e,t){return e.document.getElementsByClassName(t)||[]},t.getBidFromEvent=function(e){return e&&e.target&&e.target.attributes&&e.target.attributes[a.COMMON.BID_ID]&&e.target.attributes[a.COMMON.BID_ID].value||""},t.getAdFormatFromBidAd=function(e){var t=void 0;if(e&&E.isString(e))try{var i=new RegExp(/VAST\s+version/);if(i.test(e))t=a.FORMAT_VALUES.VIDEO;else{var n=JSON.parse(e.replace(/\\/g,""));n&&n.native&&(t=a.FORMAT_VALUES.NATIVE)}}catch(r){t=a.FORMAT_VALUES.BANNER}return t},t.handleHook=function(e,t){E.isFunction(window.PWT[e])&&(E.log("For Hook-name: "+e+", calling window.PWT."+e+"function."),window.PWT[e].apply(window.PWT,t))},t.getCurrencyToDisplay=function(){var e=o.getAdServerCurrency();if(0==e&&(e="USD"),o.getAdServerCurrency()&&window[a.COMMON.PREBID_NAMESPACE]&&E.isFunction(window[a.COMMON.PREBID_NAMESPACE].getConfig)){var t=window[a.COMMON.PREBID_NAMESPACE].getConfig();if(t&&t.currency&&t.currency.adServerCurrency)return t.currency.adServerCurrency}return e},t.getConfigFromRegex=function(e,t){for(var i=null,n=t.split("@"),r=0;r<e.length;r++){var o=e[r],s=o.rx;if(3==n.length)try{if(n[0].match(new RegExp(s.AU))&&n[1].match(new RegExp(s.DIV))&&n[2].match(new RegExp(s.SIZE))){i={config:o.rx_config,regexPattern:s.AU+"@"+s.DIV+"@"+s.SIZE};break}}catch(d){E.logError(a.MESSAGES.M27+JSON.stringify(s))}else E.logWarning(a.MESSAGES.M28+t)}return i},t.getUserIdConfiguration=function(){var e=[];return E.forEachOnObject(o.getIdentityPartners(),(function(t,i){e.push(E.getUserIdParams(i))})),E.log(a.MESSAGES.IDENTITY.M4+JSON.stringify(e)),e},t.clearPreviousTargeting=function(){var e=window.googletag.pubads().getTargetingKeys();e.indexOf(a.WRAPPER_TARGETING_KEYS.USER_IDS)>-1&&window.googletag.pubads().clearTargeting(a.WRAPPER_TARGETING_KEYS.USER_IDS)},t.setUserIdTargeting=function(){if(E.clearPreviousTargeting(),!window[a.COMMON.PREBID_NAMESPACE]||!E.isFunction(window[a.COMMON.PREBID_NAMESPACE].getUserIds))return E.logWarning(a.MESSAGES.IDENTITY.M1),void 0;var e=E.getUserIds();E.isEmptyObject(e)||E.setUserIdToGPT(e)},t.setUserIdToGPT=function(e){E.log(a.MESSAGES.IDENTITY.M2,e),window.googletag.pubads().setTargeting(a.WRAPPER_TARGETING_KEYS.USER_IDS,JSON.stringify(e))},t.getUserIds=function(){return E.isFunction(window[a.COMMON.PREBID_NAMESPACE].getUserIds)?window[a.COMMON.PREBID_NAMESPACE].getUserIds():(E.logWarning("getUserIds"+a.MESSAGES.IDENTITY.M6),void 0)},t.getUserIdsAsEids=function(){return E.isFunction(window[a.COMMON.PREBID_NAMESPACE].getUserIdsAsEids)?window[a.COMMON.PREBID_NAMESPACE].getUserIdsAsEids():(E.logWarning("getUserIdsAsEids"+a.MESSAGES.IDENTITY.M6),void 0)},t.getNestedObjectFromArray=function(e,t,i){for(var n=e,r=n,o=0;o<t.length-1;o++)r[t[o]]||(r[t[o]]={}),r=r[t[o]];return r[t[t.length-1]]=i,n},t.getNestedObjectFromString=function(e,t,i,n){var r=i.split(t);return 1==r.length?e[i]=n:e=E.getNestedObjectFromArray(e,r,n),e},t.getUserIdParams=function(e){var t={};for(var i in e)try{-1==a.EXCLUDE_IDENTITY_PARAMS.indexOf(i)&&(a.TOLOWERCASE_IDENTITY_PARAMS.indexOf(i)>-1&&(e[i]=e[i].toLowerCase()),a.JSON_VALUE_KEYS.indexOf(i)>-1&&(e[i]=JSON.parse(e[i])),t=E.getNestedObjectFromString(t,".",i,e[i]))}catch(n){E.logWarning(a.MESSAGES.IDENTITY.M3,n)}return t},t.getPartnerParams=function(e){var t={};for(var i in e)try{t=E.getNestedObjectFromString(t,".",i,e[i])}catch(n){E.logWarning(a.MESSAGES.M29,n)}return t},t.generateMonetizationPixel=function(e,t){var i,n,r,s,d,c=o.getMonetizationPixelURL(),u=o.getPublisherId(),p="";const g=!0;return c?(n=E.isFunction(t.getGrossEcpm)?t.getGrossEcpm(g):o.getAdServerCurrency()&&E.isFunction(t.getCpmInNewCurrency)?window.parseFloat(t.getCpmInNewCurrency(a.COMMON.ANALYTICS_CURRENCY)):t.cpm,d=E.isFunction(t.getAdapterID)?t.getAdapterID():t.bidderCode,i=E.isFunction(t.getNetEcpm)?t.getNetEcpm(g):window.parseFloat((n*o.getAdapterRevShare(d)).toFixed(a.COMMON.BID_PRECISION)),s=E.isFunction(t.getBidID)?t.getBidID():window.PWT.bidMap[e].adapters[d].bids[Object.keys(window.PWT.bidMap[e].adapters[d].bids)[0]].bidID,r=E.isFunction(t.getKGPV)?t.getKGPV():window.PWT.bidMap[e].adapters[d].bids[Object.keys(window.PWT.bidMap[e].adapters[d].bids)[0]].kgpv,p=E.isFunction(t.getsspID)?t.getsspID():t.sspID||"",c+="pubid="+u,c+="&purl="+window.encodeURIComponent(E.metaInfo.pageURL),c+="&tst="+E.getCurrentTimestamp(),c+="&iid="+window.encodeURIComponent(window.PWT.bidMap[e].getImpressionID()),c+="&bidid="+window.encodeURIComponent(s),c+="&pid="+window.encodeURIComponent(o.getProfileID()),c+="&pdvid="+window.encodeURIComponent(o.getProfileDisplayVersionID()),c+="&slot="+window.encodeURIComponent(e),c+="&pn="+window.encodeURIComponent(d),c+="&en="+window.encodeURIComponent(i),c+="&eg="+window.encodeURIComponent(n),c+="&kgpv="+window.encodeURIComponent(r),c+="&piid="+window.encodeURIComponent(p),a.COMMON.PROTOCOL+c):void 0},t.UpdateVastWithTracker=function(e,t){try{var i=new DOMParser,n=i.parseFromString(t,"application/xml"),r=n.createElement("Impression");return r.innerHTML="<![CDATA["+E.generateMonetizationPixel(e.adUnitCode,e)+"]]>",1==n.getElementsByTagName("Wrapper").length?n.getElementsByTagName("Wrapper")[0].appendChild(r):1==n.getElementsByTagName("InLine").length&&n.getElementsByTagName("InLine")[0].appendChild(r),(new XMLSerializer).serializeToString(n)}catch(o){return t}},t.getDomainFromURL=function(e){var t=window.document.createElement("a");return t.href=e,t.hostname},t.replaceAuctionPrice=function(e,t){return e?e.replace(/\$\{AUCTION_PRICE\}/g,t):void 0},t.getCustomParamsForDFPVideo=function(e,t){const i=t&&t.adserverTargeting||{};var n={};for(var r in i)E.isOwnProperty(i,r)&&(n[r]=E.isArray(i[r])?i[r].join():i[r]);var e=Object.assign({},n,e);return e},t.getDevicePlatform=function(){var e=3;try{var t=navigator.userAgent;if(t&&E.isString(t)&&""!=t.trim()){t=t.toLowerCase().trim();var i=new RegExp("(mobi|tablet|ios).*");e=t.match(i)?2:1}}catch(n){E.logError("Unable to get device platform",n)}return e},t.updateAdUnits=function(e){E.isArray(e)?e.forEach((function(e){e.bids.forEach((function(e){E.updateUserIds(e)}))})):E.isEmptyObject(e)||e.bids.forEach((function(e){E.updateUserIds(e)}))},t.updateUserIds=function(e){if(E.isUndefined(e.userId)?e.userId=E.getUserIds():e.userId&&(e.userId=Object.assign(e.userId,E.getUserIds())),E.isUndefined(e.userIdAsEids))e.userIdAsEids=E.getUserIdsAsEids();else if(E.isArray(e.userIdAsEids)){var t=new Set,i=E.getUserIdsAsEids().concat(e.userIdAsEids);E.isArray(i)&&i.length>0&&(i=i.filter((function(e){if(e.source){if(t.has(e.source))return!1;t.add(e.source)}return!0}))),e.userIdAsEids=i}},t.getRandomNumberBelow100=function(){return Math.floor(100*Math.random())}}),(function(e,t,i){function n(){var e=o.COMMON.PARENT_ADAPTER_PREBID;if(!a.isOwnProperty(r.adapters,e)){var t={};t[o.CONFIG.REV_SHARE]="0.0",t[o.CONFIG.THROTTLE]="100",t[o.CONFIG.KEY_GENERATION_PATTERN]="_DIV_",t[o.CONFIG.KEY_LOOKUP_MAP]={},r.adapters[e]=t}}var r=i(3),o=i(4),a=i(1),s=null;s=this,t.getPublisherId=function(){return a.trim(r.pwt.pubid)||"0"},t.getMataDataPattern=function(){return a.isString(r[o.CONFIG.COMMON][o.CONFIG.META_DATA_PATTERN])?r[o.CONFIG.COMMON][o.CONFIG.META_DATA_PATTERN]:null},t.getSendAllBidsStatus=function(){return window.parseInt(r[o.CONFIG.COMMON][o.CONFIG.SEND_ALL_BIDS])||0},t.getTimeout=function(){return window.parseInt(r.pwt.t)||1e3},t.getDisableAjaxTimeout=function(){var e=r.pwt;return a.isOwnProperty(e,o.CONFIG.DISABLE_AJAX_TIMEOUT)?1==r.pwt.disableAjaxTimeout:!0},t.getAdapterRevShare=function(e){var t=r.adapters;return a.isOwnProperty(t[e],o.CONFIG.REV_SHARE)?1-window.parseFloat(t[e][o.CONFIG.REV_SHARE])/100:1},t.getAdapterThrottle=function(e){var t=r.adapters;return a.isOwnProperty(t[e],o.CONFIG.THROTTLE)?100-window.parseFloat(t[e][o.CONFIG.THROTTLE]):0},t.isServerSideAdapter=function(e){var t=r.adapters;return t[e]&&a.isOwnProperty(t[e],o.CONFIG.SERVER_SIDE_ENABLED)?1===window.parseInt(t[e][o.CONFIG.SERVER_SIDE_ENABLED]):!1},t.getAdapterMaskBidsStatus=function(e){var t=r.adapters,i={audienceNetwork:1};return a.isOwnProperty(i,e)?i[e]:a.isOwnProperty(t[e],o.CONFIG.MASK_BIDS)?window.parseInt(t[e][o.CONFIG.MASK_BIDS])||0:0},t.getBidPassThroughStatus=function(e){var t=r.adapters;return a.isOwnProperty(t[e],o.CONFIG.BID_PASS_THROUGH)?window.parseInt(t[e][o.CONFIG.BID_PASS_THROUGH]):0},t.getProfileID=function(){return a.trim(r.pwt[o.CONFIG.PROFILE_ID])||"0"},t.getProfileDisplayVersionID=function(){return a.trim(r.pwt[o.CONFIG.PROFILE_VERSION_ID])||"0"},t.getAnalyticsPixelURL=function(){return r.pwt[o.CONFIG.LOGGER_URL]||!1},t.getMonetizationPixelURL=function(){return r.pwt[o.CONFIG.TRACKER_URL]||!1},t.forEachAdapter=function(e){a.forEachOnObject(r.adapters,e)},t.getGdpr=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.GDPR_CONSENT]||o.CONFIG.DEFAULT_GDPR_CONSENT;return"1"===e},t.getCmpApi=function(){return r[o.CONFIG.COMMON][o.CONFIG.GDPR_CMPAPI]||o.CONFIG.DEFAULT_GDPR_CMPAPI},t.getGdprTimeout=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.GDPR_TIMEOUT];return e?window.parseInt(e):o.CONFIG.DEFAULT_GDPR_TIMEOUT},t.getAwc=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.GDPR_AWC]||o.CONFIG.DEFAULT_GDPR_AWC;return"1"===e},t.addPrebidAdapter=n,t.initConfig=function(){s.addPrebidAdapter();var e={};a.forEachOnObject(o.CONFIG,(function(t,i){e[i]=""})),a.forEachOnObject(r.adapters,(function(t,i){var n={};a.forEachOnObject(i,(function(t,i){a.isOwnProperty(e,t)||(n[t]=i)})),a.forEachOnObject(i[o.CONFIG.KEY_LOOKUP_MAP],(function(e,t){a.forEachOnObject(n,(function(e,i){t[e]=i}))})),"pubmatic"!=t&&"pubmatic2"!=t&&a.forEachOnObject(i[o.CONFIG.REGEX_KEY_LOOKUP_MAP],(function(e,t){a.forEachOnObject(n,(function(e,i){a.isOwnProperty(t,"rx_config")&&(t.rx_config[e]=i)}))}))}))},t.getNativeConfiguration=function(){return r[o.COMMON.NATIVE_MEDIA_TYPE_CONFIG]},t.getAdServerCurrency=function(){return r[o.CONFIG.COMMON][o.COMMON.AD_SERVER_CURRENCY]},t.isSingleImpressionSettingEnabled=function(){return parseInt(r[o.CONFIG.COMMON][o.COMMON.SINGLE_IMPRESSION]||o.CONFIG.DEFAULT_SINGLE_IMPRESSION)},t.isUserIdModuleEnabled=function(){return parseInt(r[o.CONFIG.COMMON][o.COMMON.ENABLE_USER_ID]||o.CONFIG.DEFAULT_USER_ID_MODULE)},t.getIdentityPartners=function(){return r[o.COMMON.IDENTITY_PARTNERS]},t.isIdentityOnly=function(){return parseInt(r[o.CONFIG.COMMON][o.COMMON.IDENTITY_ONLY]||o.CONFIG.DEFAULT_IDENTITY_ONLY)},t.getIdentityConsumers=function(){return(r[o.CONFIG.COMMON][o.COMMON.IDENTITY_CONSUMERS]||"").toLowerCase()},t.getSlotConfiguration=function(){return r[o.COMMON.SLOT_CONFIG]},t.getAdServer=function(){return r[o.COMMON.ADSERVER]},t.getCCPA=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.CCPA_CONSENT]||o.CONFIG.DEFAULT_CCPA_CONSENT;return"1"===e},t.getCCPACmpApi=function(){return r[o.CONFIG.COMMON][o.CONFIG.CCPA_CMPAPI]||o.CONFIG.DEFAULT_CCPA_CMPAPI},t.getCCPATimeout=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.CCPA_TIMEOUT];
return e?window.parseInt(e):o.CONFIG.DEFAULT_CCPA_TIMEOUT},t.getSchainObject=function(){return r[o.CONFIG.COMMON][o.COMMON.SCHAINOBJECT]||{}},t.isSchainEnabled=function(){return window.parseInt(r[o.CONFIG.COMMON][o.COMMON.SCHAIN])||0},t.isPrebidPubMaticAnalyticsEnabled=function(){return 1===window.parseInt(r[o.CONFIG.COMMON][o.CONFIG.ENABLE_PB_PM_ANALYTICS])},t.isUsePrebidKeysEnabled=function(){return 1===parseInt(r[o.CONFIG.COMMON][o.CONFIG.USE_PREBID_KEYS])},t.PBJS_NAMESPACE=r[o.CONFIG.COMMON][o.COMMON.PBJS_NAMESPACE]||"pbjs"}),(function(e,t){t.pwt={t:"3000",pid:"46",gcv:"11",pdvid:"4",pubid:"9999",dataURL:"t.pubmatic.com/wl?",winURL:"t.test-domain.com/tracker?",adserver:"CUSTOM",gdpr:"0",cmpApi:"iab",gdprTimeout:"10000",awc:"1",disableAjaxTimeout:!0,adServerCurrency:"USD",singleImpression:"1",identityEnabled:"0",identityConsumers:"EB,TAM,Prebid",identityOnly:"0",ccpa:"0",ccpaCmpApi:"iab",ccpaTimeout:"10000",bidCaching:"1",addSlotRenderEndedEvent:"1",pubAnalyticsAdapter:"1"},t.adapters={pubmatic:{rev_share:"0.0",throttle:"100",publisherId:"156209",kgp:"_W_x_H_@_W_x_H_:_AUI_"},audienceNetwork:{rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{placementId:"8801674"},"Div-2":{placementId:"8801685"}}},sekindoUM:{rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{spaceId:14071},"Div-2":{spaceId:14071}}},appnexus:{rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{placementId:"13144370","video.mimes":"","video.minduration":""},"Div-2":{placementId:"8801685"}}},pulsepoint:{cp:"521732",rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{ct:"76835"},"Div-2":{ct:"147007"}}},rubicon:{accountId:"10998",rev_share:"0.0",timeout:"1000",throttle:"100",pt:0,serverSideEnabled:"0",amp:0,video:0,"in-app":0,kgp_rx:"_AU_@_DIV_@_W_x_H_",klm_rx:[{rx:{DIV:".*",AU:"^/43743431/DMDemo",SIZE:"728x90"},rx_config:{zoneId:"869224",siteId:"178620",floor:"0"}}]}},t.nativeConfig={kgp:"_DIV_",klm:{DIV1:{nativeOnly:!0,config:{image:{required:!0,sizes:[150,50]},title:{required:!0,len:80},sponsoredBy:{required:!0},body:{required:!0}}},DIV2:{nativeOnly:!0,config:{image:{required:!0,sizes:[150,50]},title:{required:!0,len:80},sponsoredBy:{required:!0},body:{required:!0}}}}},t.identityPartners={pubCommonId:{name:"pubCommonId","storage.type":"cookie","storage.name":"_pubCommonId","storage.expires":"1825"},digitrust:{name:"digitrust","params.init.member":"nQjyizbdyF","params.init.site":"FL6whbX1IW",redirects:"true","storage.type":"cookie","storage.name":"somenamevalue","storage.expires":"60"}},t.slotConfig={configPattern:"_DIV_",config:{Div1:{banner:{enabled:!0},"native":{enabled:!0,config:{image:{required:!0,sizes:[150,50]},title:{required:!0,len:80},sponsoredBy:{required:!0},body:{required:!0}}},video:{enabled:!0,config:{context:"instream",connectiontype:[1,2,6],minduration:10,maxduration:50,battr:[6,7],skip:1,skipmin:10,skipafter:15}},renderer:{url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",render:function(){}}},AU2:{banner:{}}}}}),(function(e,t){t.COMMON={BID_PRECISION:2,DEAL_KEY_FIRST_PART:"pwtdeal_",DEAL_KEY_VALUE_SEPARATOR:"_-_",PREBID_PREFIX:"PB_",CONFIG:"config",DIV_ID:"divID",PARAMS:"params",SIZES:"sizes",HEIGHT:"height",WIDTH:"width",SLOTS:"slots",KEY_GENERATION_PATTERN_VALUE:"kgpv",KEY_VALUE_PAIRS:"kvp",IMPRESSION_ID:"iid",PARENT_ADAPTER_PREBID:"prebid",ANALYTICS_CURRENCY:"USD",NATIVE_MEDIA_TYPE_CONFIG:"nativeConfig",NATIVE_ONLY:"nativeOnly",OW_CLICK_NATIVE:"openwrap-native-click",BID_ID:"owbidid",AD_SERVER_CURRENCY:"adServerCurrency",SINGLE_IMPRESSION:"singleImpression",PREBID_NAMESPACE:"pbjs",ENABLE_USER_ID:"identityEnabled",IDENTITY_PARTNERS:"identityPartners",IDENTITY_CONSUMERS:"identityConsumers",IDENTITY_ONLY:"identityOnly",GAM:"eb",TAM:"tam",PREBID:"prebid",PROTOCOL:"https://",SLOT_CONFIG:"slotConfig",DEFAULT:"default",ADSERVER:"adserver",SCHAINOBJECT:"sChainObj",SCHAIN:"sChain",PBJS_NAMESPACE:"prebidObjName"},t.CONFIG={GLOBAL:"global",ADAPTERS:"adapters",COMMON:"pwt",TIMEOUT:"t",KEY_GENERATION_PATTERN:"kgp",REGEX_KEY_GENERATION_PATTERN:"kgp_rx",REGEX_KEY_LOOKUP_MAP:"klm_rx",KEY_LOOKUP_MAP:"klm",SERVER_SIDE_KEY:"sk",PUBLISHER_ID:"pubid",PROFILE_ID:"pid",PROFILE_VERSION_ID:"pdvid",LOGGER_URL:"dataURL",TRACKER_URL:"winURL",REV_SHARE:"rev_share",THROTTLE:"throttle",BID_PASS_THROUGH:"pt",GLOBAL_KEY_VALUE:"gkv",MASK_BIDS:"maksBids",META_DATA_PATTERN:"metaDataPattern",SEND_ALL_BIDS:"sendAllBids",SERVER_SIDE_ENABLED:"serverSideEnabled",GDPR_CONSENT:"gdpr",CONSENT_STRING:"cns",GDPR_CMPAPI:"cmpApi",GDPR_TIMEOUT:"gdprTimeout",GDPR_AWC:"awc",DEFAULT_GDPR_CMPAPI:"iab",DEFAULT_GDPR_TIMEOUT:1e4,DEFAULT_GDPR_AWC:"0",DEFAULT_SINGLE_IMPRESSION:"0",DEFAULT_USER_ID_MODULE:"0",DEFAULT_IDENTITY_ONLY:"0",DEFAULT_GDPR_CONSENT:"0",DISABLE_AJAX_TIMEOUT:"disableAjaxTimeout",CCPA_CONSENT:"ccpa",CCPA_CMPAPI:"ccpaCmpApi",CCPA_TIMEOUT:"ccpaTimeout",DEFAULT_CCPA_CMPAPI:"iab",DEFAULT_CCPA_TIMEOUT:1e4,CACHE_PATH:"/cache",CACHE_URL:"https://ow.pubmatic.com",VIDEO_PARAM:"video",ENABLE_PB_PM_ANALYTICS:"pubAnalyticsAdapter",USE_PREBID_KEYS:"usePBJSKeys"},t.METADATA_MACROS={WIDTH:"_W_",HEIGHT:"_H_",PARTNER:"_P_",GROSS_ECPM:"_GE_",NET_ECPM:"_NE_",BID_COUNT:"_BC_",PARTNER_COUNT:"_PC_"},t.MACROS={WIDTH:"_W_",HEIGHT:"_H_",AD_UNIT_ID:"_AU_",AD_UNIT_INDEX:"_AUI_",INTEGER:"_I_",DIV:"_DIV_"},t.SLOT_STATUS={CREATED:0,PARTNERS_CALLED:1,TARGETING_ADDED:2,DISPLAYED:3},t.WRAPPER_TARGETING_KEYS={BID_ID:"pwtsid",BID_STATUS:"pwtbst",BID_ECPM:"pwtecp",BID_DEAL_ID:"pwtdid",BID_ADAPTER_ID:"pwtpid",BID_SIZE:"pwtsz",PUBLISHER_ID:"pwtpubid",PROFILE_ID:"pwtprofid",PROFILE_VERSION_ID:"pwtverid",META_DATA:"pwtm",PLATFORM_KEY:"pwtplt",USER_IDS:"pwtuid",CACHE_ID:"pwtcid",CACHE_URL:"pwtcurl",CACHE_PATH:"pwtcpath"},t.IGNORE_PREBID_KEYS={hb_bidder:1,hb_adid:1,hb_pb:1,hb_size:1,hb_deal:1,hb_uuid:1,hb_cache_host:1,hb_cache_id:1},t.LOGGER_PIXEL_PARAMS={TIMESTAMP:"tst",PAGE_URL:"purl",PAGE_DOMAIN:"orig",TIMEOUT:"to"},t.MESSAGES={M1:": In fetchbids.",M2:": Throttled.",M3:": adapter must implement the fetchBids() function.",M4:"BidManager: entry ",M5:": Callback.",M6:"bidAlreadExists : ",M7:": Exiting from fetchBids.",M8:". Config not found, ignored.",M9:". Config ignored.",M10:"Bid is rejected as ecpm is NULL.",M11:"Bid is rejected as ecpm is NaN: ",M12:"Existing bid ecpm: ",M13:", is lower than new bid ecpm ",M14:", so we are replacing bid from partner ",M15:", is greater than new bid ecpm ",M16:", so we are not replacing bid from partner ",M17:"Post timeout bid, ignored.",M18:"Bid is selected for partner ",M19:": Found winning adapterID: ",M20:"Bid is rejected as ecpm is empty string.",M21:": error in respose handler.",M22:"Bid is rejected as ecpm is <= 0.",M23:"Existing bid is default-bid with zero ecpm, thus replacing it with the new bid from partner ",M24:"Passsed argument is not a bidAdaptor",M25:"Bid details not found for bidID: ",M26:"Currency Module is Activated. Ad Server Currency is: ",M27:"Invalid regex pattern ",M28:"Unable to match regex pattern as kgpv length is not 3",M29:"Unable to parse Partner configuration",IDENTITY:{M1:"Unable to get User Id from OpenIdentity",M2:"Setting UserIds to EB ",M3:"Unable to parse User ID configuration",M4:"User Id Condiguration Sent to prebid ",M5:"Identity only enabled, no need to process. Calling Original function ",M6:" function is not available. Make sure userId module is included."}},t.PLATFORM_VALUES={DISPLAY:"display",NATIVE:"native",VIDEO:"video"},t.FORMAT_VALUES={BANNER:"banner",VIDEO:"video",NATIVE:"native",OTHER:"other"},t.HOOKS={PREBID_SET_CONFIG:"HookForPrebidSetConfig",PREBID_REQUEST_BIDS:"HookForPrebidRequestBids",BID_RECEIVED:"HookForBidReceived",POST_AUCTION_KEY_VALUES:"HookForPostAuctionKeyValues"},t.SRA_ENABLED_BIDDERS={rubicon:1,improvedigital:2},t.EXCLUDE_IDENTITY_PARAMS=["rev_share","timeout","throttle"],t.TOLOWERCASE_IDENTITY_PARAMS=["storage.type"],t.JSON_VALUE_KEYS=["params.clientIdentifier"],t.AD_SERVER={DFP:"DFP",CUSTOM:"CUSTOM"}}),(function(e,t,i){function n(e,t){this.adapterID=e,this.kgpv=t,this.bidID=a.getUniqueIdentifierStr(),this.grossEcpm=0,this.netEcpm=0,this.defaultBid=0,this.adHtml="",this.adUrl="",this.height=0,this.width=0,this.creativeID="",this.keyValuePairs={},this.isPostTimeout=!1,this.receivedTime=0,this.isServerSide=r.isServerSideAdapter(e)?1:0,this.dealID="",this.dealChannel="",this.isWinningBid=!1,this.status=0,this.serverSideResponseTime=0,this.mi=void 0,this.originalCpm=0,this.originalCurrency="",this.analyticsGrossCpm=0,this.analyticsNetCpm=0,this.native=void 0,this.adFormat=void 0,this.regexPattern=void 0,this.cacheUUID=void 0,this.sspID="",this.vastUrl=void 0,this.vastCache=void 0,this.renderer=void 0,this.pbBid=void 0}var r=i(2),o=i(4),a=i(1),s=function(e,t){return window.parseFloat((e*r.getAdapterRevShare(t)).toFixed(o.COMMON.BID_PRECISION))};n.prototype.setServerSideResponseTime=function(e){this.serverSideResponseTime=e},n.prototype.getServerSideResponseTime=function(){return this.serverSideResponseTime},n.prototype.getServerSideStatus=function(){return this.isServerSide},n.prototype.setServerSideStatus=function(e){this.isServerSide=e},n.prototype.getAdapterID=function(){return this.adapterID},n.prototype.getBidID=function(){return this.bidID},n.prototype.setGrossEcpm=function(e){return null===e?(a.log(o.MESSAGES.M10),a.log(this),this):a.isString(e)&&(e=e.replace(/\s/g,""),0===e.length)?(a.log(o.MESSAGES.M20),a.log(this),this):window.isNaN(e)?(a.log(o.MESSAGES.M11+e),a.log(this),this):(e=window.parseFloat(e.toFixed(o.COMMON.BID_PRECISION)),this.grossEcpm=e,this.netEcpm=s(this.grossEcpm,this.getAdapterID()),this)},n.prototype.getGrossEcpm=function(e){return r.getAdServerCurrency()&&this.analyticsGrossCpm&&e?this.analyticsGrossCpm:this.grossEcpm},n.prototype.getNetEcpm=function(e){return r.getAdServerCurrency()&&this.analyticsNetCpm&&e?this.analyticsNetCpm:this.netEcpm},n.prototype.setDefaultBidStatus=function(e){return this.defaultBid=e,this},n.prototype.getDefaultBidStatus=function(){return this.defaultBid},n.prototype.setAdHtml=function(e){return this.adHtml=e,this.setAdFormat(e),this},n.prototype.getAdHtml=function(){return this.adHtml},n.prototype.setAdUrl=function(e){return this.adUrl=e,this},n.prototype.getAdUrl=function(){return this.adUrl},n.prototype.setHeight=function(e){return this.height=e,this},n.prototype.getHeight=function(){return this.height},n.prototype.setWidth=function(e){return this.width=e,this},n.prototype.getWidth=function(){return this.width},n.prototype.getKGPV=function(e){return!e&&this.regexPattern?this.regexPattern:this.kgpv},n.prototype.setKeyValuePair=function(e,t){return this.keyValuePairs[e.substr(0,20)]=t,this},n.prototype.getKeyValuePairs=function(){return this.keyValuePairs},n.prototype.setPostTimeoutStatus=function(){return this.isPostTimeout=!0,this},n.prototype.getPostTimeoutStatus=function(){return this.isPostTimeout},n.prototype.setReceivedTime=function(e){return this.receivedTime=e,this},n.prototype.getReceivedTime=function(){return this.receivedTime},n.prototype.setDealID=function(e){return e&&(this.dealID=e,this.dealChannel=this.dealChannel||"PMP",this.setKeyValuePair(o.COMMON.DEAL_KEY_FIRST_PART+this.adapterID,this.dealChannel+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.dealID+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.bidID)),this},n.prototype.getDealID=function(){return this.dealID},n.prototype.setDealChannel=function(e){return this.dealID&&e&&(this.dealChannel=e,this.setKeyValuePair(o.COMMON.DEAL_KEY_FIRST_PART+this.adapterID,this.dealChannel+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.dealID+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.bidID)),this},n.prototype.getDealChannel=function(){return this.dealChannel},n.prototype.setWinningBidStatus=function(){return this.isWinningBid=!0,this},n.prototype.getWinningBidStatus=function(){return this.isWinningBid},n.prototype.setStatus=function(e){return this.status=e,this},n.prototype.getStatus=function(){return this.status},n.prototype.setSendAllBidsKeys=function(){if(this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_ID+"_"+this.adapterID,this.bidID),this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_STATUS+"_"+this.adapterID,this.getNetEcpm()>0?1:0),this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_ECPM+"_"+this.adapterID,this.getNetEcpm().toFixed(o.COMMON.BID_PRECISION)),this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_SIZE+"_"+this.adapterID,this.width+"x"+this.height),this.native){var e=this.keyValuePairs,t=this;a.forEachOnObject(e,(function(e,i){e.indexOf("native")>=0&&t.setKeyValuePair(e+"_"+t.adapterID,i)}))}},n.prototype.setMi=function(e){return this.mi=e,this},n.prototype.getMi=function(){return this.mi},n.prototype.setOriginalCpm=function(e){return this.originalCpm=window.parseFloat(e.toFixed(o.COMMON.BID_PRECISION)),this},n.prototype.getOriginalCpm=function(){return this.originalCpm},n.prototype.setOriginalCurrency=function(e){return this.originalCurrency=e,this},n.prototype.getOriginalCurrency=function(){return this.originalCurrency},n.prototype.setAnalyticsCpm=function(e){return this.analyticsGrossCpm=window.parseFloat(e.toFixed(o.COMMON.BID_PRECISION)),this.analyticsNetCpm=s(this.analyticsGrossCpm,this.getAdapterID()),this},n.prototype.getAnalyticsCpm=function(){return this.analyticsGrossCpm},n.prototype.getNative=function(){return this.native},n.prototype.setNative=function(e){return this.native=e,this},n.prototype.getAdFormat=function(){return this.adFormat},n.prototype.setAdFormat=function(e){return this.adFormat=a.getAdFormatFromBidAd(e),this},n.prototype.getRegexPattern=function(){return this.regexPattern},n.prototype.setRegexPattern=function(e){return this.regexPattern=e,this},n.prototype.getcacheUUID=function(){return this.cacheUUID},n.prototype.setcacheUUID=function(e){return this.cacheUUID=e,this.adFormat||(this.adFormat=o.FORMAT_VALUES.VIDEO),this},n.prototype.getsspID=function(){return this.sspID},n.prototype.setsspID=function(e){return this.sspID=e,this},n.prototype.setRenderer=function(e){return a.isEmptyObject(e)||(this.renderer=e),this},n.prototype.getRenderer=function(){return this.renderer},n.prototype.setVastCache=function(e){return a.isString(e)&&(this.vastCache=e),this},n.prototype.getVastCache=function(){return this.vastCache},n.prototype.setVastUrl=function(e){return a.isString(e)&&(this.vastUrl=e),this},n.prototype.getVastUrl=function(){return this.vastUrl},n.prototype.setVastXml=function(e){return a.isString(e)&&(this.vastXml=e),this},n.prototype.getVastXml=function(){return this.vastXml},n.prototype.setPbBid=function(e){return this.pbbid=e,this},n.prototype.getPbBid=function(){return this.pbbid},n.prototype.updateBidId=function(e){if(window.PWT.bidMap[e]&&window.PWT.bidMap[e].adapters&&Object.keys(window.PWT.bidMap[e].adapters).length>0){var t=window.PWT.bidMap[e].adapters[this.adapterID].bids[Object.keys(window.PWT.bidMap[e].adapters[this.adapterID].bids)[0]].bidID;t&&this.adFormat==o.FORMAT_VALUES.VIDEO&&(this.bidID=t)}else a.logWarning("Error in Updating BidId. It might be possible singleImpressionEnabled is false"),console.warn("Setup for video might not be correct. Try setting up Optimize MultiSize AdSlot to true.");return this},e.exports.Bid=n,t.createBid=function(e,t){return new n(e,t)}}),(function(e,t,i){function n(e){f.isOwnProperty(window.PWT.bidMap,e)||(window.PWT.bidMap[e]=I.createBMEntry(e))}function r(e,t,i,n){window.PWT.bidMap[e].setNewBid(t,i),window.PWT.bidIdMap[i.getBidID()]={s:e,a:t},0===i.getDefaultBidStatus()&&"pubmaticServer"!==i.adapterID&&f.vLogInfo(e,{type:"bid",bidder:t+(0!==g.getBidPassThroughStatus(t)?"(Passthrough)":""),bidDetails:i,latency:n,s2s:g.isServerSideAdapter(t),adServerCurrency:f.getCurrencyToDisplay()})}function o(e,t){f.vLogInfo(e,{type:"hr"}),delete window.PWT.bidMap[e],E.createBidEntry(e),window.PWT.bidMap[e].setImpressionID(t)}function a(e,t,i){var n="",r=0,o=0,a=l.METADATA_MACROS,d="g";f.forEachOnObject(t.adapters,(function(t,i){""!=i.getLastBidID()&&("pubmaticServer"!==t&&o++,f.forEachOnObject(i.bids,(function(t,i){1!=i.getDefaultBidStatus()&&1!=i.getPostTimeoutStatus()&&0!=i.getGrossEcpm()&&(r++,n+=s(e,i))})))})),0==n.length&&(n=e),n=n.replace(new RegExp(a.BID_COUNT,d),r),n=n.replace(new RegExp(a.PARTNER_COUNT,d),o),i[l.WRAPPER_TARGETING_KEYS.META_DATA]=encodeURIComponent(n)}function s(e,t){var i=l.METADATA_MACROS,n="g";return e.replace(new RegExp(i.PARTNER,n),t.getAdapterID()).replace(new RegExp(i.WIDTH,n),t.getWidth()).replace(new RegExp(i.HEIGHT,n),t.getHeight()).replace(new RegExp(i.GROSS_ECPM,n),t.getGrossEcpm()).replace(new RegExp(i.NET_ECPM,n),t.getNetEcpm())}function d(e){var t=null,i={};return f.forEachOnObject(e.adapters,(function(e,n){var r=E.auctionBidsCallBack(e,n,i,t);t=r.winningBid,i=r.keyValuePairs})),null!==g.getMataDataPattern()&&a(g.getMataDataPattern(),e,i),{wb:t,kvp:i}}function c(e){for(var t in e)t.indexOf("native")>=0&&3===t.split("_").length&&delete e[t]}function u(e,t,i,n){var r=this;return""!=t.getLastBidID()?(f.forEachOnObject(t.bids,(function(t,o){if(o.getPostTimeoutStatus()===!0)return{winningBid:n,keyValuePairs:i};if(1!==o.getDefaultBidStatus()&&1==g.getSendAllBidsStatus()&&o.setSendAllBidsKeys(),null!==n)if(n.getNetEcpm()<o.getNetEcpm())r.updateNativeTargtingKeys(i);else{var a=o.getKeyValuePairs();r.updateNativeTargtingKeys(a),o.keyValuePairs=a}return f.copyKeyValueObject(i,o.getKeyValuePairs()),0!==g.getBidPassThroughStatus(e)?{winningBid:n,keyValuePairs:i}:(null==n?n=o:n.getNetEcpm()<o.getNetEcpm()&&(n=o),void 0)})),{winningBid:n,keyValuePairs:i}):{winningBid:n,keyValuePairs:i}}function p(e,t,i){var n=t.getCreationTime()||0,r=void 0,o=t.getImpressionID();const a=!0;if(t.getAnalyticEnabledStatus()&&!t.getExpiredStatus()){var s={sn:e,sz:t.getSizes(),ps:[]};t.setExpired(),i[o]=i[o]||[],f.forEachOnObject(t.adapters,(function(e,t){1!=g.getBidPassThroughStatus(e)&&f.forEachOnObject(t.bids,(function(t,i){var d=i.getReceivedTime();return"pubmaticServer"===e?(f.isOwnProperty(window.PWT.owLatency,o)&&f.isOwnProperty(window.PWT.owLatency[o],"startTime")&&f.isOwnProperty(window.PWT.owLatency[o],"endTime")?r=window.PWT.owLatency[o].endTime-window.PWT.owLatency[o].startTime:(r=0,f.log("Logging pubmaticServer latency as 0 for impressionID: "+o)),f.log("PSL logging: time logged for id "+o+" is "+r),void 0):((1!=g.getAdapterMaskBidsStatus(e)||i.getWinningBidStatus()!==!1)&&(i.getServerSideStatus()&&-1===i.getDefaultBidStatus()&&-1===i.getServerSideResponseTime()||("pubmatic"!==e&&"pubmatic2"!==e||!(i.getDefaultBidStatus()||i.getPostTimeoutStatus()&&0==i.getGrossEcpm(a)))&&s.ps.push({pn:e,bidid:t,db:i.getDefaultBidStatus(),kgpv:i.getKGPV(),kgpsv:i.getKGPV(!0),psz:i.getWidth()+"x"+i.getHeight(),eg:i.getGrossEcpm(a),en:i.getNetEcpm(a),di:i.getDealID(),dc:i.getDealChannel(),l1:i.getServerSideStatus()?i.getServerSideResponseTime():d-n,l2:0,ss:i.getServerSideStatus(),t:i.getPostTimeoutStatus()===!1?0:1,wb:i.getWinningBidStatus()===!0?1:0,mi:i.getServerSideStatus()?i.getMi():void 0,af:i.getAdFormat(),ocpm:g.getAdServerCurrency()?i.getOriginalCpm():i.getGrossEcpm(),ocry:g.getAdServerCurrency()?i.getOriginalCurrency():l.COMMON.ANALYTICS_CURRENCY,piid:i.getsspID()})),void 0)}))})),i[o].push(s),void 0!==r&&(i[o].psl=r)}}var g=i(2),l=i(4),f=i(1),I=(i(7),i(8)),E=this;t.createBidEntry=n,t.setSizes=function(e,t){E.createBidEntry(e),window.PWT.bidMap[e].setSizes(t)},t.setCallInitTime=function(e,t){E.createBidEntry(e),window.PWT.bidMap[e].setAdapterEntry(t)},t.setAllPossibleBidsReceived=function(e){window.PWT.bidMap[e].setAllPossibleBidsReceived()},t.setBidFromBidder=function(e,t){var i=t.getAdapterID(),n=(t.getBidID(),window.PWT.bidMap[e]);if(!f.isOwnProperty(window.PWT.bidMap,e))return f.logWarning("BidManager is not expecting bid for "+e+", from "+i),void 0;var r=n.getCreationTime()+g.getTimeout()<t.getReceivedTime()?!0:!1,o=t.getReceivedTime()-n.getCreationTime();E.createBidEntry(e),f.log("BdManagerSetBid: divID: "+e+", bidderID: "+i+", ecpm: "+t.getGrossEcpm()+", size: "+t.getWidth()+"x"+t.getHeight()+", postTimeout: "+r+", defaultBid: "+t.getDefaultBidStatus()),r===!0&&t.setPostTimeoutStatus();var a=n.getLastBidIDForAdapter(i);if(""!=a){var s=n.getBid(i,a),d=1===s.getDefaultBidStatus(),c=-1===s.getDefaultBidStatus();d||!r||c?(d&&f.log(l.MESSAGES.M23+i),d||s.getNetEcpm()<t.getNetEcpm()||c?(f.log(l.MESSAGES.M12+s.getNetEcpm()+l.MESSAGES.M13+t.getNetEcpm()+l.MESSAGES.M14+i),E.storeBidInBidMap(e,i,t,o)):f.log(l.MESSAGES.M12+s.getNetEcpm()+l.MESSAGES.M15+t.getNetEcpm()+l.MESSAGES.M16+i)):f.log(l.MESSAGES.M17)}else f.log(l.MESSAGES.M18+i),E.storeBidInBidMap(e,i,t,o);r&&setTimeout(window[l.COMMON.PREBID_NAMESPACE].triggerUserSyncs,10)},t.storeBidInBidMap=r,t.resetBid=o,t.createMetaDataKey=a,t.replaceMetaDataMacros=s,t.auctionBids=d,t.updateNativeTargtingKeys=c,t.auctionBidsCallBack=u,t.getBid=function(e){var t=null,i=null;if(f.isOwnProperty(window.PWT.bidMap,e)){var n=E.auctionBids(window.PWT.bidMap[e]);t=n.wb,i=n.kvp,window.PWT.bidMap[e].setAnalyticEnabled(),t&&t.getNetEcpm()>0?(t.setStatus(1),t.setWinningBidStatus(),f.vLogInfo(e,{type:"win-bid",bidDetails:t,adServerCurrency:f.getCurrencyToDisplay()})):f.vLogInfo(e,{type:"win-bid-fail"})}return{wb:t,kvp:i}},t.getBidById=function(e){if(!f.isOwnProperty(window.PWT.bidIdMap,e))return f.log(l.MESSAGES.M25+e),null;var t=window.PWT.bidIdMap[e].s,i=window.PWT.bidIdMap[e].a;if(f.isOwnProperty(window.PWT.bidMap,t)){f.log("BidID: "+e+", DivID: "+t+l.MESSAGES.M19+i);var n=window.PWT.bidMap[t].getBid(i,e);return null==n?null:{bid:n,slotid:t}}return f.log(l.MESSAGES.M25+e),null},t.displayCreative=function(e,t){var i=E.getBidById(t);if(i){var n=i.bid,r=i.slotid;f.displayCreative(e,n),f.vLogInfo(r,{type:"disp",adapter:n.getAdapterID()}),E.executeMonetizationPixel(r,n)}},t.executeAnalyticsPixel=function(){var e={s:[]},t=g.getPublisherId(),i=g.getAnalyticsPixelURL(),n={};i&&(i=l.COMMON.PROTOCOL+i+"pubid="+t,e[l.CONFIG.PUBLISHER_ID]=g.getPublisherId(),e[l.LOGGER_PIXEL_PARAMS.TIMEOUT]=""+g.getTimeout(),e[l.LOGGER_PIXEL_PARAMS.PAGE_URL]=window.decodeURIComponent(f.metaInfo.pageURL),e[l.LOGGER_PIXEL_PARAMS.PAGE_DOMAIN]=f.metaInfo.pageDomain,e[l.LOGGER_PIXEL_PARAMS.TIMESTAMP]=f.getCurrentTimestamp(),e[l.CONFIG.PROFILE_ID]=g.getProfileID(),e[l.CONFIG.PROFILE_VERSION_ID]=g.getProfileDisplayVersionID(),e.tgid=(function(){var e=parseInt(PWT.testGroupId||0);return 15>=e&&e>=0?e:0})(),f.forEachOnObject(window.PWT.bidMap,(function(e,t){E.analyticalPixelCallback(e,t,n)})),f.forEachOnObject(n,(function(t,n){n.length>0&&(e.s=n,e[l.COMMON.IMPRESSION_ID]=window.encodeURIComponent(t),e.psl=n.psl,e.dvc={plt:f.getDevicePlatform()},f.ajaxRequest(i,(function(){}),"json="+window.encodeURIComponent(JSON.stringify(e)),{contentType:"application/x-www-form-urlencoded",withCredentials:!0}))})))},t.executeMonetizationPixel=function(e,t){var i=f.generateMonetizationPixel(e,t);i&&E.setImageSrcToPixelURL(i)},t.analyticalPixelCallback=p,t.setImageSrcToPixelURL=function(e,t){var i=new window.Image;return void 0==t||t?(String(e).trim().substring(0,8)!=l.COMMON.PROTOCOL&&(e=l.COMMON.PROTOCOL+e),i.src=e,void 0):(i.src=e,void 0)},t.getAllPartnersBidStatuses=function(e,t){var i=!0;return f.forEachOnArray(t,(function(t,n){e[n]&&(i=i&&e[n].hasAllPossibleBidsReceived()===!0)})),i},t.loadTrackers=function(e){var t=f.getBidFromEvent(e);window.parent.postMessage(JSON.stringify({pwt_type:"3",pwt_bidID:t,pwt_origin:l.COMMON.PROTOCOL+window.location.hostname,pwt_action:"click"}),"*")},t.executeTracker=function(e){window.parent.postMessage(JSON.stringify({pwt_type:"3",pwt_bidID:e,pwt_origin:l.COMMON.PROTOCOL+window.location.hostname,pwt_action:"imptrackers"}),"*")},t.fireTracker=function(e,t){var i;if("click"===t)i=e["native"]&&e["native"].clickTrackers;else if("imptrackers"===t&&(i=e["native"]&&e["native"].impressionTrackers,e["native"]&&e["native"].javascriptTrackers)){var n=f.createInvisibleIframe();if(!n)throw{message:"Failed to create invisible frame for native javascript trackers"};if(!n.contentWindow)throw{message:"Unable to access frame window for native javascript trackers"};window.document.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.write(e["native"].javascriptTrackers),n.contentWindow.document.close()}(i||[]).forEach((function(e){E.setImageSrcToPixelURL(e,!1)}))},t.setStandardKeys=function(e,t){if(e){t[l.WRAPPER_TARGETING_KEYS.BID_ID]=e.getBidID(),t[l.WRAPPER_TARGETING_KEYS.BID_STATUS]=e.getStatus(),t[l.WRAPPER_TARGETING_KEYS.BID_ECPM]=e.getNetEcpm().toFixed(l.COMMON.BID_PRECISION);var i=e.getDealID();i&&(t[l.WRAPPER_TARGETING_KEYS.BID_DEAL_ID]=i),t[l.WRAPPER_TARGETING_KEYS.BID_ADAPTER_ID]=e.getAdapterID(),t[l.WRAPPER_TARGETING_KEYS.PUBLISHER_ID]=g.getPublisherId(),t[l.WRAPPER_TARGETING_KEYS.PROFILE_ID]=g.getProfileID(),t[l.WRAPPER_TARGETING_KEYS.PROFILE_VERSION_ID]=g.getProfileDisplayVersionID(),t[l.WRAPPER_TARGETING_KEYS.BID_SIZE]=e.width+"x"+e.height,t[l.WRAPPER_TARGETING_KEYS.PLATFORM_KEY]=e.getAdFormat()==l.FORMAT_VALUES.VIDEO?l.PLATFORM_VALUES.VIDEO:e.getNative()?l.PLATFORM_VALUES.NATIVE:l.PLATFORM_VALUES.DISPLAY,e.getAdFormat()==l.FORMAT_VALUES.VIDEO&&(t[l.WRAPPER_TARGETING_KEYS.CACHE_PATH]=l.CONFIG.CACHE_PATH,t[l.WRAPPER_TARGETING_KEYS.CACHE_URL]=l.CONFIG.CACHE_URL,t[l.WRAPPER_TARGETING_KEYS.CACHE_ID]=e.getcacheUUID())}else f.logWarning("Not generating key-value pairs as invalid winningBid object passed. WinningBid: "),f.logWarning(e)}}),(function(e,t){function i(e,t){return toString.call(e)==="[object "+t+"]"}var n="OpenWrap",r=909090,o=function(e){return i(e,"Function")},a=(function(){try{return window.localStorage&&o(window.localStorage.getItem)&&o(window.localStorage.setItem)}catch(e){return!1}})(),s=function(e,t,i,r){var o;if(a){try{o=window.localStorage.getItem(n)}catch(s){}if(o&&"string"==typeof o)try{o=JSON.parse(o)}catch(s){o={}}else o={};o&&(o.hasOwnProperty(e)||(o[e]={}),o[e].t=(new Date).getTime(),o[e][t]=i,"c"==t&&(o[e].g=r?1:0));try{window.localStorage.setItem(n,JSON.stringify(o))}catch(s){}}};t.setConsentDataInLS=s,t.isCmpFound=function(){return!!window.__cmp},t.getUserConsentDataFromCMP=function(){function e(e){if(e&&e.data&&e.data.__cmp&&e.data.__cmp.result){var t=e.data.__cmp.result;t&&t.consentData?s(i,"c",t.consentData,t.gdprApplies):"string"==typeof t&&s(i,"c",t)}}function t(){window.__cmp("getConsentData","vendorConsents",(function(e){e&&e.consentData?s(i,"c",e.consentData,e.gdprApplies):"string"==typeof e&&s(i,"c",e)}))}var i=r,n=0,o={__cmp:{callId:"iframe:"+ ++n,command:"getConsentData"}};window.__cmp?"function"==typeof window.__cmp?t():setTimeout((function(){"function"==typeof window.__cmp&&t()}),500):(window.top.postMessage(o,"*"),window.addEventListener("message",e))},t.getUserConsentDataFromLS=function(){var e=r,t={c:"",g:0};if(!a)return t;var i;try{i=window.localStorage.getItem(n)}catch(o){}if(i&&"string"==typeof i){try{i=JSON.parse(i)}catch(o){i={}}if(i.hasOwnProperty(e)){var s=i[e];s&&s.c&&s.t&&s.t&&parseInt(s.t,10)>(new Date).getTime()-864e5&&(t.c=s.c,t.g=s.g)}}return t}}),(function(e,t,i){function n(e){this.name=e,this.sizes=[],this.adapters={},this.creationTime=o.getCurrentTimestampInMs(),this.impressionID="",this.analyticsEnabled=!1,this.expired=!1,this.allPossibleBidsReceived=!1}var r=i(4),o=i(1),a=i(9).AdapterEntry;n.prototype.setExpired=function(){return this.expired=!0,this},n.prototype.getExpiredStatus=function(){return this.expired},n.prototype.setAnalyticEnabled=function(){return this.analyticsEnabled=!0,this},n.prototype.getAnalyticEnabledStatus=function(){return this.analyticsEnabled},n.prototype.setNewBid=function(e,t){o.isOwnProperty(this.adapters,e)||(this.adapters[e]=new a(e)),this.adapters[e].setNewBid(t)},n.prototype.getBid=function(e,t){return o.isOwnProperty(this.adapters,e)?this.adapters[e].getBid(t):void 0},n.prototype.getName=function(){return this.name},n.prototype.getCreationTime=function(){return this.creationTime},n.prototype.setImpressionID=function(e){return this.impressionID=e,this},n.prototype.getImpressionID=function(){return this.impressionID},n.prototype.setSizes=function(e){return this.sizes=e,this},n.prototype.getSizes=function(){return this.sizes},n.prototype.setAdapterEntry=function(e){return o.isOwnProperty(this.adapters,e)||(this.adapters[e]=new a(e),o.log(r.MESSAGES.M4+this.name+" "+e+" "+this.adapters[e].getCallInitiatedTime())),this},n.prototype.getLastBidIDForAdapter=function(e){return o.isOwnProperty(this.adapters,e)?this.adapters[e].getLastBidID():""},n.prototype.setAllPossibleBidsReceived=function(){return this.allPossibleBidsReceived=!0,this},n.prototype.hasAllPossibleBidsReceived=function(){return this.allPossibleBidsReceived},e.exports.BMEntry=n,t.createBMEntry=function(e){return new n(e)}}),(function(e,t,i){function n(e){this.adapterID=e,this.callInitiatedTime=r.getCurrentTimestampInMs(),this.bids={},this.lastBidID=""}var r=i(1);n.prototype.getCallInitiatedTime=function(){return this.callInitiatedTime},n.prototype.getLastBidID=function(){return this.lastBidID},n.prototype.getBid=function(e){return r.isOwnProperty(this.bids,e)?this.bids[e]:null},n.prototype.setNewBid=function(e){delete this.bids[this.lastBidID];var t=e.getBidID();this.bids[t]=e,this.lastBidID=t},e.exports.AdapterEntry=n}),(function(e,t,i){function n(e){O.isObject(e)&&(C=e)}function r(){return C}function o(e){var t=0;try{var i=e.getSlotId().getId().split("_");t=parseInt(i[i.length-1])}catch(n){}return t}function a(e){O.isObject(T.wrapperTargetingKeys)||(T.wrapperTargetingKeys={}),T.wrapperTargetingKeys[e]=""}function s(e){var t={};return O.forEachOnObject(e,(function(e,i){t[i]=""})),t}function d(e){return O.isObject(e)&&O.isObject(e.PWT)&&O.isFunction(e.PWT.jsLoaded)?(e.PWT.jsLoaded(),!0):!1}function c(e){e.PWT.safeFrameMessageListenerAdded||(O.addMessageEventListenerForSafeFrame(e),e.PWT.safeFrameMessageListenerAdded=!0)}function u(e){return O.isObject(e)?O.isString(e.code)?O.isString(e.divId)?O.isString(e.adUnitId)?O.isString(e.adUnitIndex)?O.isObject(e.mediaTypes)?O.isObject(e.mediaTypes.banner)||O.isObject(e.mediaTypes.native)||O.isObject(e.mediaTypes.video)?O.isObject(e.mediaTypes.banner)&&!O.isArray(e.mediaTypes.banner.sizes)?(O.logError("An anAdUnitObject.mediaTypes.banner should have a property named sizes and it should be an array",e),!1):!0:(O.logError("An anAdUnitObject.mediaTypes should atleast have a property named banner or native or video and it should be an object",e),!1):(O.logError("An AdUnitObject should have a property named mediaTypes and it should be an object",e),!1):(O.logError("An AdUnitObject should have a property named adUnitIndex and it should be a string",e),!1):(O.logError("An AdUnitObject should have a property named adUnitId and it should be a string",e),!1):(O.logError("An AdUnitObject should have a property named divId and it should be a string",e),!1):(O.logError("An AdUnitObject should have a property named code and it should be a string",e),!1):(O.logError("An AdUnitObject should be an object",e),!1)}function p(e){if(e&&e.mediaTypes){if(e.mediaTypes.banner&&O.isArray(e.mediaTypes.banner.sizes))return e.mediaTypes.banner.sizes;if(e.mediaTypes.video&&!(O.isArray(e.mediaTypes.video.playerSize)||e.mediaTypes.video.w&&e.mediaTypes.video.h))return O.logError("For slot video playersize or w,h is not defined and may not request bids from SSP for this slot. "+JSON.stringify(e)),[];if(e.mediaTypes.native||e.mediaTypes.video)return e.sizes}return[]}function g(e){var t;t=v===!0?S.getBid(e):A.getBid(e);var i=t.wb||null,n=t.kvp||null,r=m.IGNORE_PREBID_KEYS;v===!1&&i&&i.getNetEcpm()>0&&A.setStandardKeys(i,n),O.forEachOnObject(n,(function(e){O.isOwnProperty(r,e)||"pubmatic"!==i.adapterID&&O.isOwnProperty({hb_buyid_pubmatic:1,pwtbuyid_pubmatic:1},e)?delete n[e]:T.defineWrapperTargetingKey(e)}));var o=null;return i&&(o={},o.adHtml=i.adHtml,o.adapterID=i.adapterID,o.grossEcpm=i.grossEcpm,o.netEcpm=i.netEcpm,o.height=i.height,o.width=i.width),{wb:o,kvp:n}}function l(e,t){if(!O.isArray(e))return O.error("First argument to PWT.requestBids API, arrayOfAdUnits is mandatory and it should be an array."),t(e),void 0;if(!O.isFunction(t))return O.error("Second argument to PWT.requestBids API, callBackFunction is mandatory and it should be a function."),void 0;
var i=[],n={},r=[];if(O.forEachOnArray(e,(function(e,t){if(T.validateAdUnitObject(t)){var o=t.code,a=w.createSlot(o);a.setDivID(t.divId||o),a.setPubAdServerObject(t),a.setAdUnitID(t.adUnitId||""),a.setAdUnitIndex(t.adUnitIndex||0),a.setSizes(T.getAdSlotSizesArray(t)),i.push(a),n[a.getDivID()]=a.getName(),r.push(a.getDivID()),O.createVLogInfoPanel(a.getDivID(),a.getSizes())}})),0==i.length)return O.error("There are no qualifyingSlots, so not calling bidders."),t(e),void 0;S.fetchBids(i);var o=Date.now()+h.getTimeout(),a=window.setInterval((function(){if(A.getAllPartnersBidStatuses(window.PWT.bidMap,r)||Date.now()>=o){clearInterval(a),v===!1&&setTimeout((function(){A.executeAnalyticsPixel()}),2e3);var i={};O.forEachOnArray(r,(function(e,t){var r=n[t];i[r]=T.findWinningBidAndGenerateTargeting(t),setTimeout(O.realignVLogInfoPanel,1e3,t)})),O.forEachOnArray(e,(function(e,t){i.hasOwnProperty(t.code)&&(t.bidData=i[t.code])})),t(e)}}),10)}function f(e){var t=[];return O.isArray(e)?(O.forEachOnArray(e,(function(e,i){var n="",r="",o="",a=[],s="";if(O.isObject(i)){if(O.isFunction(i.getAdUnitPath)&&(n=i.getAdUnitPath()),O.isFunction(i.getSlotId)){var d=i.getSlotId();r=""+T.getAdUnitIndex(i),d&&O.isFunction(d.getDomId)&&(o=d.getDomId(),s=o)}O.isFunction(i.getSizes)&&O.forEachOnArray(i.getSizes(window.innerWidth,window.innerHeight),(function(e,t){O.isFunction(t.getWidth)&&O.isFunction(t.getHeight)?a.push([t.getWidth(),t.getHeight()]):(O.log(o+", size object does not have getWidth and getHeight method. Ignoring: "),O.log(t))}))}t.push({code:s,divId:o,adUnitId:n,adUnitIndex:r,mediaTypes:O.getAdUnitConfig(a,i).mediaTypeObject,sizes:a})})),t):(O.error("first argument to generateConfForGPT should be an array"),t)}function I(e){O.isArray(e)||O.error("array is expected");var t=[];O.isObject(window.googletag)&&O.isFunction(window.googletag.pubads)&&(t=window.googletag.pubads().getSlots());var i={};O.forEachOnArray(t,(function(e,t){if(O.isFunction(t.getSlotId)){var n=t.getSlotId();n&&O.isFunction(n.getDomId)?i[n.getDomId()]=t:O.error("slotID.getDomId is not a function")}else O.error("googleSlot.getSlotId is not a function")})),O.forEachOnArray(e,(function(e,t){if(O.isOwnProperty(i,t.divId)){var n=i[t.divId];O.isObject(t)&&O.isObject(t.bidData)&&O.isObject(t.bidData.kvp)&&O.forEachOnObject(t.bidData.kvp,(function(e,t){n.setTargeting(e,[t])}))}else O.error("GPT-Slot not found for divId: "+t.divId)}))}function E(e){O.forEachOnArray(e,(function(e,t){var i={};O.isFunction(t.getTargetingKeys)&&O.forEachOnArray(t.getTargetingKeys(),(function(e,n){i[n]=t.getTargeting(n)})),O.isFunction(t.clearTargeting)&&t.clearTargeting(),O.forEachOnObject(i,(function(e,i){O.isOwnProperty(T.wrapperTargetingKeys,e)||O.isFunction(t.setTargeting)&&t.setTargeting(e,i)}))}))}var h=i(2),m=i(4),O=i(1),A=i(6),w=i(11),S=i(12),v=h.isPrebidPubMaticAnalyticsEnabled(),P={};t.wrapperTargetingKeys=P;var y={};t.slotSizeMapping=y;var C=null,T=this;t.setWindowReference=n,t.getWindowReference=r,t.getAdUnitIndex=o,t.defineWrapperTargetingKey=a,t.defineWrapperTargetingKeys=s,t.callJsLoadedIfRequired=d,t.initSafeFrameListener=c,t.validateAdUnitObject=u,t.getAdSlotSizesArray=p,t.findWinningBidAndGenerateTargeting=g,t.customServerExposedAPI=l,t.generateConfForGPT=f,t.addKeyValuePairsToGPTSlots=I,t.removeKeyValuePairsFromGPTSlots=E,t.init=function(e){return h.initConfig(),O.isObject(e)?(T.setWindowReference(e),T.initSafeFrameListener(e),S.initPbjsConfig(),e.PWT.requestBids=T.customServerExposedAPI,e.PWT.generateConfForGPT=T.generateConfForGPT,e.PWT.addKeyValuePairsToGPTSlots=I,e.PWT.removeKeyValuePairsFromGPTSlots=E,T.wrapperTargetingKeys=T.defineWrapperTargetingKeys(m.WRAPPER_TARGETING_KEYS),T.callJsLoadedIfRequired(e),!0):!1}}),(function(e,t,i){function n(e){this.name=e,this.status=r.SLOT_STATUS.CREATED,this.divID="",this.adUnitID="",this.adUnitIndex=0,this.sizes=[],this.keyValues={},this.arguments=[],this.pubAdServerObject=null,this.displayFunctionCalled=!1,this.refreshFunctionCalled=!1}var r=i(4);n.prototype.getName=function(){return this.name},n.prototype.setStatus=function(e){return this.status=e,this},n.prototype.getStatus=function(){return this.status},n.prototype.setDivID=function(e){return this.divID=e,this},n.prototype.getDivID=function(){return this.divID},n.prototype.setAdUnitID=function(e){return this.adUnitID=e,this},n.prototype.getAdUnitID=function(){return this.adUnitID},n.prototype.setAdUnitIndex=function(e){return this.adUnitIndex=e,this},n.prototype.getAdUnitIndex=function(){return this.adUnitIndex},n.prototype.setSizes=function(e){return this.sizes=e,this},n.prototype.getSizes=function(){return this.sizes},n.prototype.setKeyValue=function(e,t){return this.keyValues[e]=t,this},n.prototype.setKeyValues=function(e){return this.keyValues=e,this},n.prototype.getkeyValues=function(){return this.keyValues},n.prototype.setArguments=function(e){return this.arguments=e,this},n.prototype.getArguments=function(){return this.arguments},n.prototype.setPubAdServerObject=function(e){return this.pubAdServerObject=e,this},n.prototype.getPubAdServerObject=function(){return this.pubAdServerObject},n.prototype.setDisplayFunctionCalled=function(e){return this.displayFunctionCalled=e,this},n.prototype.isDisplayFunctionCalled=function(){return this.displayFunctionCalled},n.prototype.setRefreshFunctionCalled=function(e){return this.refreshFunctionCalled=e,this},n.prototype.isRefreshFunctionCalled=function(){return this.refreshFunctionCalled},n.prototype.updateStatusAfterRendering=function(e){this.status=r.SLOT_STATUS.DISPLAYED,this.arguments=[],e?this.refreshFunctionCalled=!1:this.displayFunctionCalled=!1},e.exports.Slot=n,t.createSlot=function(e){return new n(e)}}),(function(e,t,i){function n(e,t,i){var n=i||e.regexPattern||void 0,r=B.createBid(e.bidderCode,t),o=parseInt(e.pubmaticServerErrorCode);return r.setGrossEcpm(e.cpm),r.setDealID(e.dealId),r.setDealChannel(e.dealChannel),r.setAdHtml(e.ad||""),r.setAdUrl(e.adUrl||""),r.setWidth(e.width),r.setHeight(e.height),r.setMi(e.mi),e.videoCacheKey&&r.setVastCache(e.videoCacheKey),e.vastUrl&&r.setVastUrl(e.vastUrl),e.vastXml&&r.setVastUrl(e.vastUrl),e.renderer&&r.setRenderer(e.renderer),e.native&&r.setNative(e.native),n&&r.setRegexPattern(n),e.mediaType==U.FORMAT_VALUES.VIDEO&&(e.videoCacheKey&&r.setcacheUUID(e.videoCacheKey),r.updateBidId(e.adUnitCode)),e.sspID&&r.setsspID(e.sspID),r.setReceivedTime(e.responseTimestamp),r.setServerSideResponseTime(e.serverSideResponseTime),N.getAdServerCurrency()&&(F.isOwnProperty(e,"originalCpm")||(e.originalCpm=e.cpm),F.isOwnProperty(e,"originalCurrency")||(e.originalCurrency=F.getCurrencyToDisplay()),r.setOriginalCpm(window.parseFloat(e.originalCpm)),r.setOriginalCurrency(e.originalCurrency),F.isFunction(e.getCpmInNewCurrency)?r.setAnalyticsCpm(window.parseFloat(e.getCpmInNewCurrency(U.COMMON.ANALYTICS_CURRENCY))):r.setAnalyticsCpm(r.getGrossEcpm())),1===o||2===o||6===o||11===o||12===o?(r.setDefaultBidStatus(-1),r.setWidth(0),r.setHeight(0)):3===o||4===o||5===o?(r.setDefaultBidStatus(0),0===r.isServerSide&&r.setPostTimeoutStatus()):o&&r.setDefaultBidStatus(1),F.forEachOnObject(e.adserverTargeting,(function(e,t){"hb_format"!==e&&"hb_source"!==e&&r.setKeyValuePair(e,t)})),r.setPbBid(e),r}function r(e,t){var i={responseKGPV:"",responseRegex:""};t.kgpvs.length>0&&t.kgpvs.forEach((function(t){e.bidderCode==t.adapterID&&(i.responseKGPV=t.kgpv,i.responseRegex=t.regexPattern)}));var n=i.responseKGPV.split("@"),r=1,o=!1;if(n&&(2==n.length||3==n.length&&(r=2)&&(o=!0))&&"video"!=e.mediaType){var a=n[r],s=null;n[r].indexOf(":")>0&&(a=n[r].split(":")[0],s=n[r].split(":")[1]),e.getSize()&&e.getSize()!=a&&"0X0"!=e.getSize().toUpperCase()&&(n[0].toUpperCase()==a.toUpperCase()&&(n[0]=e.getSize().toLowerCase()),i.responseKGPV=o?n[0]+"@"+n[1]+"@"+e.getSize():n[0]+"@"+e.getSize(),s&&(i.responseKGPV=i.responseKGPV+":"+s))}return i}function o(e){var t=e.adUnitCode||"";if(F.isOwnProperty(V.kgpvMap,t)){if("pubmaticServer"===e.bidderCode&&(e.bidderCode=e.originalBidder),V.isSingleImpressionSettingEnabled){var i=V.checkAndModifySizeOfKGPVIfRequired(e,V.kgpvMap[t]);V.kgpvMap[t].kgpv=i.responseKGPV,V.kgpvMap[t].regexPattern=i.responseRegex}if(e.bidderCode&&N.isServerSideAdapter(e.bidderCode)){var n=V.kgpvMap[t].divID;if(!V.isSingleImpressionSettingEnabled){var r=V.getPBCodeWithWidthAndHeight(n,e.bidderCode,e.width,e.height),o=V.getPBCodeWithoutWidthAndHeight(n,e.bidderCode);if(F.isOwnProperty(V.kgpvMap,r))t=r;else{if(!F.isOwnProperty(V.kgpvMap,o))return F.logWarning("Failed to find kgpv details for S2S-adapter:"+e.bidderCode),void 0;t=o}}e.ss=N.isServerSideAdapter(e.bidderCode)?1:0}e.bidderCode&&(e.timeToRespond<j&&F.handleHook(U.HOOKS.BID_RECEIVED,[V.kgpvMap[t].divID,e]),L.setBidFromBidder(V.kgpvMap[t].divID,V.transformPBBidToOWBid(e,V.kgpvMap[t].kgpv,V.kgpvMap[t].regexPattern)))}else F.logWarning("Failed to find pbBid.adUnitCode in kgpvMap, pbBid.adUnitCode:"+e.adUnitCode)}function a(e){for(var t in e)if(F.isOwnProperty(e,t)&&F.isOwnProperty(V.kgpvMap,t))for(var i=e[t],r=i.bids||[],o=0;o<r.length;o++){var a=r[o];a.bidderCode&&L.setBidFromBidder(V.kgpvMap[t].divID,n(a,V.kgpvMap[t].kgpv))}}function s(e,t,i,n){return e+"@"+t+"@"+i+"X"+n}function d(e,t){return e+"@"+t}function c(e,t,i){var n=!1;return F.isOwnProperty(e,t)&&e[t].bids.forEach((function(e){e.bidder==i&&(n=!0)})),n}function u(e,t,i,n,r,o,a,s){var d,u,p;if(N.isServerSideAdapter(e))return F.log("Not calling adapter: "+e+", for "+r+", as it is serverSideEnabled."),void 0;if(p=a.getDivID(),d=a.getDivID(),u=a.getSizes(),F.isOwnProperty(t,d)){if(N.isSingleImpressionSettingEnabled()&&c(t,d,e))return}else{var l=F.getAdUnitConfig(u,a);t[d]={code:d,mediaTypes:l.mediaTypeObject,sizes:u,bids:[],divID:p}}g(e,r,n,s,i,a,d,t)}function p(e,t,i,n,r,o,a,s,d,u,p){var l,f,I,E=a.getDivID();if(V.isSingleImpressionSettingEnabled){l=a.getDivID(),f=a.getSizes();var h=!1;if(V.kgpvMap[l]&&V.kgpvMap[l].kgpvs&&V.kgpvMap[l].kgpvs.length>0){if(F.forEachOnArray(V.kgpvMap[l].kgpvs,(function(t,i){i.adapterID==e&&(h=!0)})),h&&c(t,l,e))return}else V.kgpvMap[l]={kgpvs:[],divID:E};if(!h){var m={adapterID:e,kgpv:r,regexPattern:p};V.kgpvMap[l].kgpvs.push(m)}}else o?(l=V.getPBCodeWithWidthAndHeight(E,e,d,u),f=[[d,u]]):(l=V.getPBCodeWithoutWidthAndHeight(E,e),f=a.getSizes()),V.kgpvMap[l]={kgpv:r,divID:E,regexPattern:p};if(N.isServerSideAdapter(e))return F.log("Not calling adapter: "+e+", for "+r+", as it is serverSideEnabled."),void 0;var O=F.getAdUnitConfig(f,a);if(I=O.mediaTypeObject,I.partnerConfig&&(partnerConfig=I.partnerConfig),F.isOwnProperty(t,l)){if(V.isSingleImpressionSettingEnabled&&c(t,l,e))return}else t[l]={code:l,mediaTypes:{},sizes:f,bids:[],divID:E},I.banner&&(t[l].mediaTypes.banner=I.banner),I.native&&(t[l].mediaTypes["native"]=I.native),I.video&&(t[l].mediaTypes.video=I.video),O.renderer&&(t[l].renderer=O.renderer);F.isOwnProperty(t,l)&&(I=t[l].mediaTypes),g(e,r,n,s,i,a,l,t)}function g(e,t,i,n,r,o,a,s){var d,u={},p=s[a].mediaTypes,g=s[a].sizes;switch(p&&F.isOwnProperty(p,"video")&&"telaria"!=e&&(u.video=p.video),F.forEachOnObject(n,(function(e,t){u[e]=t})),H&&(u.kgpv=t),d&&Object.keys(d).length>0&&F.forEachOnObject(d,(function(t,i){t==e&&F.forEachOnObject(i,(function(e,t){u[e]=t}))})),p&&F.isOwnProperty(p,"video")&&"telaria"!=e&&(F.isOwnProperty(u,"video")&&F.isObject(u.video)?F.forEachOnObject(p.video,(function(e,t){F.isOwnProperty(u.video,e)||(u.video[e]=t)})):u.video=p.video),e){case"pubmaticServer":u.publisherId=r.publisherId,u.adUnitIndex=""+o.getAdUnitIndex(),u.adUnitId=o.getAdUnitID(),u.divId=o.getDivID(),u.adSlot=t,u.wiid=i,u.profId=N.getProfileID(),window.PWT.udpv&&(u.verId=N.getProfileDisplayVersionID()),s[a].bids.push({bidder:e,params:u});break;case"pubmatic":case"pubmatic2":u.publisherId=r.publisherId,u.adSlot="pubmatic_test2@300x250",u.wiid=i,"pubmatic2"!=e&&window.PWT.udpv&&(u.verId=N.getProfileDisplayVersionID()),s[a].bids.push({bidder:e,params:u});break;case"pulsepoint":F.forEachOnArray(g,(function(t,i){var r={};F.forEachOnObject(n,(function(e,t){r[e]=t})),r.cf=i[0]+"x"+i[1],s[a].bids.push({bidder:e,params:r})}));break;case"adg":F.forEachOnArray(g,(function(t,i){var r={};F.forEachOnObject(n,(function(e,t){r[e]=t})),r.width=i[0],r.height=i[1],V.isSingleImpressionSettingEnabled&&c(s,a,e)||s[a].bids.push({bidder:e,params:r})}));break;case"yieldlab":F.forEachOnArray(g,(function(t,i){var r={};F.forEachOnObject(n,(function(e,t){r[e]=t})),r.adSize=i[0]+"x"+i[1],V.isSingleImpressionSettingEnabled&&c(s,a,e)||s[a].bids.push({bidder:e,params:r})}));break;case"ix":case"indexExchange":F.forEachOnArray(g,(function(t,i){var r={};n.siteID&&(r.siteId=n.siteID),r.size=i,s[a].bids.push({bidder:e,params:r})}));break;default:s[a].bids.push({bidder:e,params:u})}}function l(e,t,i,n,r){F.log(e+U.MESSAGES.M1),t&&F.forEachGeneratedKey(e,n,t,r,[],i,H?V.generatedKeyCallbackForPbAnalytics:V.generatedKeyCallback,!0)}function f(e){F.forEachOnObject(U.SRA_ENABLED_BIDDERS,(function(t){F.isOwnProperty(G.adapters,t)&&(e[t]={singleRequest:!0})}))}function I(e){e.userSync={enableOverride:!0,syncsPerBidder:0,iframeEnabled:!0,pixelEnabled:!0,filterSettings:{iframe:{bidders:"*",filter:"include"}},enabledBidders:(function(){var e=[];return N.forEachAdapter((function(t){e.push(t)})),e})(),syncDelay:2e3},N.isUserIdModuleEnabled()&&(e.userSync.userIds=F.getUserIdConfiguration())}function E(e){N.getGdpr()&&(e.consentManagement={cmpApi:N.getCmpApi(),timeout:N.getGdprTimeout(),allowAuctionWithoutConsent:N.getAwc()})}function h(e){N.getCCPA()&&(e.consentManagement||(e.consentManagement={}),e.consentManagement.usp={cmpApi:N.getCCPACmpApi(),timeout:N.getCCPATimeout()})}function m(e){N.getAdServerCurrency()&&(F.log(U.MESSAGES.M26+N.getAdServerCurrency()),e.currency={adServerCurrency:N.getAdServerCurrency(),granularityMultiplier:1})}function O(e){N.isSchainEnabled&&(e.schain=N.getSchainObject())}function A(){H&&F.isFunction(window[W].enableAnalytics)&&window[W].enableAnalytics({provider:"pubmatic",options:{publisherId:N.getPublisherId(),profileId:N.getProfileID(),profileVersionId:N.getProfileDisplayVersionID()}})}function w(e,t){return!(e>=N.getAdapterThrottle(t))}function S(e,t){var i={},n=F.getRandomNumberBelow100();N.forEachAdapter((function(r,o){r!==V.parentAdapterID&&(N.isServerSideAdapter(r)||0==V.throttleAdapter(n,r)?(F.forEachOnObject(e,(function(e,t){L.setCallInitTime(t.getDivID(),r)})),V.generatePbConf(r,o,e,i,t)):F.log(r+U.MESSAGES.M2))}));var r=[];for(var o in i)F.isOwnProperty(i,o)&&r.push(i[o]);return r}function v(){return F.isFunction(window[W].onEvent)?(K||(window[W].onEvent("bidResponse",V.pbBidStreamHandler),K=!0),void 0):(F.logWarning("PreBid js onEvent method is not available"),void 0)}function P(){if(F.isFunction(window[W].setConfig)||"function"==typeof window[W].setConfig){var e={debug:F.isDebugLogEnabled(),cache:{url:U.CONFIG.CACHE_URL+U.CONFIG.CACHE_PATH},bidderSequence:"random",disableAjaxTimeout:N.getDisableAjaxTimeout()};V.assignUserSyncConfig(e),V.assignGdprConfigIfRequired(e),V.assignCcpaConfigIfRequired(e),V.assignCurrencyConfigIfRequired(e),V.assignSchainConfigIfRequired(e),V.assignSingleRequestConfigForBidders(e),F.handleHook(U.HOOKS.PREBID_SET_CONFIG,[e]),window[W].setConfig(e)}else F.logWarning("PreBidJS setConfig method is not available")}function y(){return[{key:"pwtpid",val:function(e){return e.bidderCode}},{key:"pwtsid",val:function(e){return e.adId}},{key:"pwtecp",val:function(e){return e.cpm}},{key:"pwtsz",val:function(e){return e.size}},{key:"hb_source",val:function(){return""}},{key:"pwtplt",val:function(e){return e.native?U.PLATFORM_VALUES.NATIVE:U.PLATFORM_VALUES.DISPLAY}},{key:"pwtdid",val:function(e){return e.dealId}},{key:"pwtbst",val:function(){return 1}},{key:"pwtpubid",val:function(){return N.getPublisherId()}},{key:"pwtprofid",val:function(){return N.getProfileID()}},{key:"pwtverid",val:function(){return N.getProfileDisplayVersionID()}},{key:"pwtm",val:function(){return""}}]}function C(){H!==!1&&(window[W].bidderSettings={standard:{suppressEmptyKeys:!0}},N.isUsePrebidKeysEnabled()===!1&&(window[W].bidderSettings.standard.adserverTargeting=y()),N.forEachAdapter((function(e){window[W].bidderSettings.hasOwnProperty(e)===!1&&(window[W].bidderSettings[e]={},window[W].bidderSettings[e].bidCpmAdjustment=function(t){return window.parseFloat((t*N.getAdapterRevShare(e)).toFixed(U.COMMON.BID_PRECISION))})})))}function T(e,t){function i(){F.forEachOnArray(t,(function(e,t){L.setAllPossibleBidsReceived(t.getDivID())}))}F.log("In PreBid bidsBackHandler with bidResponses: "),F.log(e),setTimeout(window[W].triggerUserSyncs,10),N.getAdServerCurrency()?setTimeout(i,300):i()}function b(){return window[W]?(window[W].logging=F.isDebugLogEnabled(),V.setPrebidConfig(),V.enablePrebidPubMaticAnalyticIfRequired(),V.setPbjsBidderSettingsIfRequired(),void 0):(F.logError("PreBid js is not loaded"),void 0)}function D(e){var t=F.generateUUID();if(!window[W])return F.logError("PreBid js is not loaded"),void 0;F.forEachOnArray(e,(function(e,i){var n=i.getDivID();L.resetBid(n,t),L.setSizes(n,F.generateSlotNamesFromPattern(i,"_W_x_H_"))}));var i=V.generateAdUnitsArray(e,t);if(i.length>0&&window[W])try{if(!F.isFunction(window[W].requestBids)&&"function"!=typeof window[W].requestBids)return F.log("PreBid js requestBids function is not available"),void 0;F.handleHook(U.HOOKS.PREBID_REQUEST_BIDS,[i]),H===!1&&V.addOnBidResponseHandler(),window[W].requestBids({adUnits:i,bidsBackHandler:function(t){V.pbjsBidsBackHandler(t,e)},timeout:j})}catch(n){F.logError("Error occured in calling PreBid."),F.logError(n)}}function _(e){var t=window[W].getHighestCpmBids([e])[0]||null;return t&&(t.adHtml=t.ad,t.adapterID=t.bidder,t.netEcpm=t.cpm,t.grossEcpm=t.originalCpm),{wb:t,kvp:window[W].getAdserverTargetingForAdUnitCode([e])||null}}function M(){return V.parentAdapterID}function R(){if(F.isFunction(window[W].setConfig)||"function"==typeof window[W].setConfig){var e={debug:F.isDebugLogEnabled(),userSync:{syncDelay:2e3}};N.getGdpr()&&(e.consentManagement={cmpApi:N.getCmpApi(),timeout:N.getGdprTimeout(),allowAuctionWithoutConsent:N.getAwc()}),N.isUserIdModuleEnabled()&&(e.userSync.userIds=F.getUserIdConfiguration()),F.handleHook(U.HOOKS.PREBID_SET_CONFIG,[e]),window[W].setConfig(e),window[W].requestBids([])}}var N=i(2),U=i(4),B=i(5),F=i(1),L=i(6),G=i(3),x=U.COMMON.PARENT_ADAPTER_PREBID,W=U.COMMON.PREBID_NAMESPACE;t.parentAdapterID=x;var k={};t.kgpvMap=k;var V=this,j=N.getTimeout()-50,K=!1,H=N.isPrebidPubMaticAnalyticsEnabled(),Y=N.isSingleImpressionSettingEnabled();t.isSingleImpressionSettingEnabled=Y,t.transformPBBidToOWBid=n,t.checkAndModifySizeOfKGPVIfRequired=r,t.pbBidStreamHandler=o,t.handleBidResponses=a,t.getPBCodeWithWidthAndHeight=s,t.isAdUnitsCodeContainBidder=c,t.getPBCodeWithoutWidthAndHeight=d,t.generatedKeyCallbackForPbAnalytics=u,t.generatedKeyCallback=p,t.pushAdapterParamsInAdunits=g,t.generatePbConf=l,t.assignSingleRequestConfigForBidders=f,t.assignUserSyncConfig=I,t.assignGdprConfigIfRequired=E,t.assignCcpaConfigIfRequired=h,t.assignCurrencyConfigIfRequired=m,t.assignSchainConfigIfRequired=O,t.enablePrebidPubMaticAnalyticIfRequired=A,t.throttleAdapter=w,t.generateAdUnitsArray=S,t.addOnBidResponseHandler=v,t.setPrebidConfig=P,t.getPbjsAdServerTargetingConfig=y,t.setPbjsBidderSettingsIfRequired=C,t.pbjsBidsBackHandler=T,t.initPbjsConfig=b,t.fetchBids=D,t.getBid=_,t.setConfig=R,t.getParenteAdapterID=M,t.register=function(){return{fB:V.fetchBids,ID:V.getParenteAdapterID,sC:V.setConfig}}})]);